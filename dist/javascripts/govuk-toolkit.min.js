/*! moj-assets - v0.0.2 - 2014-01-31
* http://github.com/ministryofjustice
* Copyright (c) 2014 MOJ Digital Service; Licensed  */
var swfobject=function(){function a(){if(!R){try{var a=K.getElementsByTagName("body")[0].appendChild(q("span"));a.parentNode.removeChild(a)}catch(b){return}R=!0;for(var c=N.length,d=0;c>d;d++)N[d]()}}function b(a){R?a():N[N.length]=a}function c(a){if(typeof J.addEventListener!=C)J.addEventListener("load",a,!1);else if(typeof K.addEventListener!=C)K.addEventListener("load",a,!1);else if(typeof J.attachEvent!=C)r(J,"onload",a);else if("function"==typeof J.onload){var b=J.onload;J.onload=function(){b(),a()}}else J.onload=a}function d(){M?e():f()}function e(){var a=K.getElementsByTagName("body")[0],b=q(D);b.setAttribute("type",G);var c=a.appendChild(b);if(c){var d=0;!function(){if(typeof c.GetVariable!=C){var e=c.GetVariable("$version");e&&(e=e.split(" ")[1].split(","),U.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}else if(10>d)return d++,void setTimeout(arguments.callee,10);a.removeChild(b),c=null,f()}()}else f()}function f(){var a=O.length;if(a>0)for(var b=0;a>b;b++){var c=O[b].id,d=O[b].callbackFn,e={success:!1,id:c};if(U.pv[0]>0){var f=p(c);if(f)if(!s(O[b].swfVersion)||U.wk&&U.wk<312)if(O[b].expressInstall&&h()){var k={};k.data=O[b].expressInstall,k.width=f.getAttribute("width")||"0",k.height=f.getAttribute("height")||"0",f.getAttribute("class")&&(k.styleclass=f.getAttribute("class")),f.getAttribute("align")&&(k.align=f.getAttribute("align"));for(var l={},m=f.getElementsByTagName("param"),n=m.length,o=0;n>o;o++)"movie"!=m[o].getAttribute("name").toLowerCase()&&(l[m[o].getAttribute("name")]=m[o].getAttribute("value"));i(k,l,c,d)}else j(f),d&&d(e);else u(c,!0),d&&(e.success=!0,e.ref=g(c),d(e))}else if(u(c,!0),d){var q=g(c);q&&typeof q.SetVariable!=C&&(e.success=!0,e.ref=q),d(e)}}}function g(a){var b=null,c=p(a);if(c&&"OBJECT"==c.nodeName)if(typeof c.SetVariable!=C)b=c;else{var d=c.getElementsByTagName(D)[0];d&&(b=d)}return b}function h(){return!S&&s("6.0.65")&&(U.win||U.mac)&&!(U.wk&&U.wk<312)}function i(a,b,c,d){S=!0,y=d||null,z={success:!1,id:c};var e=p(c);if(e){"OBJECT"==e.nodeName?(w=k(e),x=null):(w=e,x=c),a.id=H,(typeof a.width==C||!/%$/.test(a.width)&&parseInt(a.width,10)<310)&&(a.width="310"),(typeof a.height==C||!/%$/.test(a.height)&&parseInt(a.height,10)<137)&&(a.height="137"),K.title=K.title.slice(0,47)+" - Flash Player Installation";var f=U.ie&&U.win?"ActiveX":"PlugIn",g="MMredirectURL="+J.location.toString().replace(/&/g,"%26")+"&MMplayerType="+f+"&MMdoctitle="+K.title;if(typeof b.flashvars!=C?b.flashvars+="&"+g:b.flashvars=g,U.ie&&U.win&&4!=e.readyState){var h=q("div");c+="SWFObjectNew",h.setAttribute("id",c),e.parentNode.insertBefore(h,e),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}l(a,b,c)}}function j(a){if(U.ie&&U.win&&4!=a.readyState){var b=q("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(k(a),b),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(k(a),a)}function k(a){var b=q("div");if(U.win&&U.ie)b.innerHTML=a.innerHTML;else{var c=a.getElementsByTagName(D)[0];if(c){var d=c.childNodes;if(d)for(var e=d.length,f=0;e>f;f++)1==d[f].nodeType&&"PARAM"==d[f].nodeName||8==d[f].nodeType||b.appendChild(d[f].cloneNode(!0))}}return b}function l(a,b,c){var d,e=p(c);if(U.wk&&U.wk<312)return d;if(e)if(typeof a.id==C&&(a.id=c),U.ie&&U.win){var f="";for(var g in a)a[g]!=Object.prototype[g]&&("data"==g.toLowerCase()?b.movie=a[g]:"styleclass"==g.toLowerCase()?f+=' class="'+a[g]+'"':"classid"!=g.toLowerCase()&&(f+=" "+g+'="'+a[g]+'"'));var h="";for(var i in b)b[i]!=Object.prototype[i]&&(h+='<param name="'+i+'" value="'+b[i]+'" />');e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>",P[P.length]=a.id,d=p(a.id)}else{var j=q(D);j.setAttribute("type",G);for(var k in a)a[k]!=Object.prototype[k]&&("styleclass"==k.toLowerCase()?j.setAttribute("class",a[k]):"classid"!=k.toLowerCase()&&j.setAttribute(k,a[k]));for(var l in b)b[l]!=Object.prototype[l]&&"movie"!=l.toLowerCase()&&m(j,l,b[l]);e.parentNode.replaceChild(j,e),d=j}return d}function m(a,b,c){var d=q("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function n(a){var b=p(a);b&&"OBJECT"==b.nodeName&&(U.ie&&U.win?(b.style.display="none",function(){4==b.readyState?o(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function o(a){var b=p(a);if(b){for(var c in b)"function"==typeof b[c]&&(b[c]=null);b.parentNode.removeChild(b)}}function p(a){var b=null;try{b=K.getElementById(a)}catch(c){}return b}function q(a){return K.createElement(a)}function r(a,b,c){a.attachEvent(b,c),Q[Q.length]=[a,b,c]}function s(a){var b=U.pv,c=a.split(".");return c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]?!0:!1}function t(a,b,c,d){if(!U.ie||!U.mac){var e=K.getElementsByTagName("head")[0];if(e){var f=c&&"string"==typeof c?c:"screen";if(d&&(A=null,B=null),!A||B!=f){var g=q("style");g.setAttribute("type","text/css"),g.setAttribute("media",f),A=e.appendChild(g),U.ie&&U.win&&typeof K.styleSheets!=C&&K.styleSheets.length>0&&(A=K.styleSheets[K.styleSheets.length-1]),B=f}U.ie&&U.win?A&&typeof A.addRule==D&&A.addRule(a,b):A&&typeof K.createTextNode!=C&&A.appendChild(K.createTextNode(a+" {"+b+"}"))}}}function u(a,b){if(T){var c=b?"visible":"hidden";R&&p(a)?p(a).style.visibility=c:t("#"+a,"visibility:"+c)}}function v(a){var b=/[\\\"<>\.;]/,c=null!=b.exec(a);return c&&typeof encodeURIComponent!=C?encodeURIComponent(a):a}{var w,x,y,z,A,B,C="undefined",D="object",E="Shockwave Flash",F="ShockwaveFlash.ShockwaveFlash",G="application/x-shockwave-flash",H="SWFObjectExprInst",I="onreadystatechange",J=window,K=document,L=navigator,M=!1,N=[d],O=[],P=[],Q=[],R=!1,S=!1,T=!0,U=function(){var a=typeof K.getElementById!=C&&typeof K.getElementsByTagName!=C&&typeof K.createElement!=C,b=L.userAgent.toLowerCase(),c=L.platform.toLowerCase(),d=/win/.test(c?c:b),e=/mac/.test(c?c:b),f=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,g=!1,h=[0,0,0],i=null;if(typeof L.plugins!=C&&typeof L.plugins[E]==D)i=L.plugins[E].description,!i||typeof L.mimeTypes!=C&&L.mimeTypes[G]&&!L.mimeTypes[G].enabledPlugin||(M=!0,g=!1,i=i.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),h[0]=parseInt(i.replace(/^(.*)\..*$/,"$1"),10),h[1]=parseInt(i.replace(/^.*\.(.*)\s.*$/,"$1"),10),h[2]=/[a-zA-Z]/.test(i)?parseInt(i.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof J.ActiveXObject!=C)try{var j=new ActiveXObject(F);j&&(i=j.GetVariable("$version"),i&&(g=!0,i=i.split(" ")[1].split(","),h=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)]))}catch(k){}return{w3:a,pv:h,wk:f,ie:g,win:d,mac:e}}();!function(){U.w3&&((typeof K.readyState!=C&&"complete"==K.readyState||typeof K.readyState==C&&(K.getElementsByTagName("body")[0]||K.body))&&a(),R||(typeof K.addEventListener!=C&&K.addEventListener("DOMContentLoaded",a,!1),U.ie&&U.win&&(K.attachEvent(I,function(){"complete"==K.readyState&&(K.detachEvent(I,arguments.callee),a())}),J==top&&!function(){if(!R){try{K.documentElement.doScroll("left")}catch(b){return void setTimeout(arguments.callee,0)}a()}}()),U.wk&&!function(){return R?void 0:/loaded|complete/.test(K.readyState)?void a():void setTimeout(arguments.callee,0)}(),c(a)))}(),function(){U.ie&&U.win&&window.attachEvent("onunload",function(){for(var a=Q.length,b=0;a>b;b++)Q[b][0].detachEvent(Q[b][1],Q[b][2]);for(var c=P.length,d=0;c>d;d++)n(P[d]);for(var e in U)U[e]=null;U=null;for(var f in swfobject)swfobject[f]=null;swfobject=null})}()}return{registerObject:function(a,b,c,d){if(U.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,O[O.length]=e,u(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){return U.w3?g(a):void 0},embedSWF:function(a,c,d,e,f,g,j,k,m,n){var o={success:!1,id:c};U.w3&&!(U.wk&&U.wk<312)&&a&&c&&d&&e&&f?(u(c,!1),b(function(){d+="",e+="";var b={};if(m&&typeof m===D)for(var p in m)b[p]=m[p];b.data=a,b.width=d,b.height=e;var q={};if(k&&typeof k===D)for(var r in k)q[r]=k[r];if(j&&typeof j===D)for(var t in j)typeof q.flashvars!=C?q.flashvars+="&"+t+"="+j[t]:q.flashvars=t+"="+j[t];if(s(f)){var v=l(b,q,c);b.id==c&&u(c,!0),o.success=!0,o.ref=v}else{if(g&&h())return b.data=g,void i(b,q,c,n);u(c,!0)}n&&n(o)})):n&&n(o)},switchOffAutoHideShow:function(){T=!1},ua:U,getFlashPlayerVersion:function(){return{major:U.pv[0],minor:U.pv[1],release:U.pv[2]}},hasFlashPlayerVersion:s,createSWF:function(a,b,c){return U.w3?l(a,b,c):void 0},showExpressInstall:function(a,b,c,d){U.w3&&h()&&i(a,b,c,d)},removeSWF:function(a){U.w3&&n(a)},createCSS:function(a,b,c,d){U.w3&&t(a,b,c,d)},addDomLoadEvent:b,addLoadEvent:c,getQueryParamValue:function(a){var b=K.location.search||K.location.hash;if(b){if(/\?/.test(b)&&(b=b.split("?")[1]),null==a)return v(b);for(var c=b.split("&"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return v(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(S){var a=p(H);a&&w&&(a.parentNode.replaceChild(w,a),x&&(u(x,!0),U.ie&&U.win&&(w.style.display="block")),y&&y(z)),S=!1}}}}();window.NOMENSA=window.NOMENSA||{},window.NOMENSA.player=window.NOMENSA.player||{},window.NOMENSA.player.YoutubePlayer=function(a){this.config=a,this.config.playerVars={controls:0,showinfo:0,origin:window.location.protocol+"//"+window.location.hostname,rel:0}},window.NOMENSA.player.YoutubePlayer.apiLoaded=!1,window.NOMENSA.player.YoutubePlayer.prototype={getYTOptions:function(){var a=this,b={height:this.config.flashHeight,width:this.config.flashWidth,videoId:this.config.media,events:{onReady:function(b){a.$html.find("iframe").attr({id:a.config.id,role:"presentation"}),a.onPlayerReady(b)},onStateChange:function(b){a.onPlayerStateChange(b.data)}}};return b.playerVars=this.config.playerVars,this.config.repeat&&(b.playerVars.playlist=this.config.media),b},init:function(){return"undefined"!=typeof window.postMessage?function(a){var b=document.createElement("script"),c=document.getElementsByTagName("script")[0];this.$html=this.assembleHTML(),this.config.captions&&this.getCaptions(),a.html(this.$html),window.NOMENSA.player.PlayerDaemon.addPlayer(this),window.NOMENSA.player.YoutubePlayer.apiLoaded?this.player=YT.Player("player-"+player.config.id,getOptions(player)):"undefined"==typeof window.onYouTubeIframeAPIReady&&(window.onYouTubeIframeAPIReady=function(){window.NOMENSA.player.PlayerDaemon.map(function(a){"undefined"!=typeof a.getYTOptions&&(a.player=new YT.Player("player-"+a.config.id,a.getYTOptions()))}),window.NOMENSA.player.YoutubePlayer.apiLoaded=!0},b.src="//www.youtube.com/iframe_api",c.parentNode.insertBefore(b,c))}:function(a){var b=this;this.$html=this.assembleHTML(),this.config.captions&&this.getCaptions(),a.html(this.$html),window.NOMENSA.player.PlayerDaemon.addPlayer(this),window.NOMENSA.player.stateHandlers[this.config.id]=function(a){var c=window.NOMENSA.player.PlayerDaemon.getPlayer(b.config.id);c.onPlayerStateChange(a)},window.onYouTubePlayerReady=function(a){var c=window.NOMENSA.player.PlayerDaemon.getPlayer(a),d=document.getElementById(c.config.id);c.player=d,c.cue(),c.getPlayer().addEventListener("onStateChange","window.NOMENSA.player.stateHandlers."+b.config.id),c.onPlayerReady()}}}(),state:{ended:0,playing:1,paused:2,unstarted:-1},onPlayerReady:function(){var a,b=[];return function(c){var d=b.length;if("function"==typeof c)b.push(c);else{if(0===d)return!1;for(a=0;d>a;a++)b[a].apply(this,arguments)}}}(),onPlayerStateChange:function(a){1==a?(this.play(),this.config.buttons.toggle&&this.$html.find(".play").removeClass("play").addClass("pause").text("Pause")):this.config.repeat&&0==a&&this.play()},getFlashVars:function(){var a={controlbar:"none",file:this.config.media};return""!=this.config.image&&(a.image=this.config.image),this.config.repeat&&(a.repeat=this.config.repeat),a},getFlashParams:function(){return{allowScriptAccess:"always",wmode:"transparent"}},generateFlashPlayer:function(a){var b=this,c=this.getFlashVars(),d=this.getFlashParams(),e={id:this.config.id,name:this.config.id},f=$("<"+this.config.flashContainer+" />").attr("id","player-"+this.config.id).addClass("flashReplace").html('This content requires Macromedia Flash Player. You can <a href="http://get.adobe.com/flashplayer/">install or upgrade the Adobe Flash Player here</a>.'),g=$("<span />").addClass("video"),h=this.getURL();return setTimeout(function(){swfobject.embedSWF(h,f.attr("id"),b.config.flashWidth,b.config.flashHeight,"9.0.115",null,c,d,e,b.config.swfCallback),$.browser.mozilla&&parseInt($.browser.version,10)>=2&&b.$html.find("object").attr("tabindex","-1")},0),a.append(g.append(f)),a},generateVideoPlayer:function(a){if("undefined"==typeof window.postMessage)return this.generateFlashPlayer(a);var b=$("<"+this.config.flashContainer+" />").attr("id","player-"+this.config.id),c=$("<span />").addClass("video");return a.append(c.append(b)),a},getPlayer:function(){return this.player},is_html5:!1,play:function(){this.player.playVideo(),this.setSliderTimeout(),this.config.captionsOn&&this.captions&&this.setCaptionTimeout()},pause:function(){this.player.pauseVideo(),this.clearSliderTimeout(),this.config.captionsOn&&this.captions&&this.clearCaptionTimeout()},ffwd:function(){var a=this.getCurrentTime()+this.config.playerSkip,b=this.getDuration();a>b&&(a=b),this.seek(a)},rewd:function(){var a=this.getCurrentTime()-this.config.playerSkip;0>a&&(a=0),this.seek(a)},mute:function(){var a=this.$html.find("button.mute");this.player.isMuted()?(this.player.unMute(),a.hasClass("muted")&&a.removeClass("muted")):(this.player.mute(),a.addClass("muted"))},volup:function(){var a=this.player.getVolume();a>=100?a=100:a+=this.config.volumeStep,this.player.setVolume(a),this.updateVolume(a)},voldwn:function(){var a=this.player.getVolume();0>=a?a=0:a-=this.config.volumeStep,this.player.setVolume(a),this.updateVolume(a)},getDuration:function(){return this.player.getDuration()},getCurrentTime:function(){return this.player.getCurrentTime()},getBytesLoaded:function(){return this.player.getVideoBytesLoaded()},getBytesTotal:function(){return this.player.getVideoBytesTotal()},seek:function(a){this.player.seekTo(a,!0),this.config.captionsOn&&this.captions&&(this.$html.find(".caption").remove(),this.clearCaptionTimeout(),this.setCaptionTimeout(),this.getPreviousCaption())},cue:function(){this.player.cueVideoById(this.config.media)},toggleCaptions:function(){var a=this,b=this.$html.find(".captions");b.hasClass("captions-off")?(b.removeClass("captions-off").addClass("captions-on"),a.getPreviousCaption(),a.setCaptionTimeout(),a.config.captionsOn=!0):(b.removeClass("captions-on").addClass("captions-off"),a.clearCaptionTimeout(),a.$html.find(".caption").remove(),a.config.captionsOn=!1)}},window.NOMENSA=window.NOMENSA||{},window.NOMENSA.player=window.NOMENSA.player||{},window.NOMENSA.player.MediaplayerDecorator=function(a){var b=a;this.config=b.config,this.player=b.player,this.state=b.state;for(var c in b)"function"==typeof b[c]&&(this[c]=function(a){return function(){return b[a].apply(this,arguments)}}(c))},window.NOMENSA.player.MediaplayerDecorator.prototype.generatePlayerContainer=function(){var a=$("<"+this.config.playerContainer+" />").css(this.config.playerStyles).addClass("player-container");return $.browser.msie&&a.addClass("player-container-ie player-container-ie-"+$.browser.version.substring(0,1)),a},window.NOMENSA.player.MediaplayerDecorator.prototype.assembleHTML=function(){var a=this.generatePlayerContainer(),b=this.generateVideoPlayer(a),c=b.append(this.getControls());return c},window.NOMENSA.player.MediaplayerDecorator.prototype.getURL=function(){return[this.config.url,this.config.id].join("")},window.NOMENSA.player.MediaplayerDecorator.prototype.createButton=function(a,b){var c=[a,this.config.id].join("-"),d=$("<button />").append(b).addClass(a).attr({title:a,id:c}).addClass("ui-corner-all ui-state-default").hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}).focus(function(){$(this).addClass("ui-state-focus")}).blur(function(){$(this).removeClass("ui-state-focus")}).click(function(a){a.preventDefault()});return d},window.NOMENSA.player.MediaplayerDecorator.prototype.getFuncControls=function(){var a=this,b=$("<div>");b[0].className="player-controls";var c=[];if(a.config.buttons.toggle){var d=a.createButton("play","Play").attr({"aria-live":"assertive"}).click(function(){$(this).hasClass("play")?($(this).removeClass("play").addClass("pause").attr({title:"Pause",id:"pause-"+a.config.id}).text("Pause"),a.play()):($(this).removeClass("pause").addClass("play").attr({title:"Play",id:"play-"+a.config.id}).text("Play"),a.pause())});c.push(d)}else{var e=a.createButton("play","Play").click(function(){a.play()}),f=a.createButton("pause","Pause").click(function(){a.pause()});c.push(e),c.push(f)}if(a.config.buttons.rewind){var g=a.createButton("rewind","Rewind").click(function(){a.rewd()});c.push(g)}if(a.config.buttons.forward){var h=a.createButton("forward","Forward").click(function(){a.ffwd()});c.push(h)}if(a.config.captions){var i=a.createButton("captions","Captions").click(function(){a.toggleCaptions()}),j=1==a.config.captionsOn?"captions-on":"captions-off";i.addClass(j),c.push(i)}for(var k=0;k<c.length;k+=1)b[0].appendChild(c[k][0]);return b},window.NOMENSA.player.MediaplayerDecorator.prototype.getVolControls=function(){for(var a=this,b=$("<div>").addClass("volume-controls"),c=a.createButton("mute","Mute").click(function(){a.mute()}),d=a.createButton("vol-up",'+<span class="ui-helper-hidden-accessible"> Volume Up</span>').click(function(){a.volup()}),e=a.createButton("vol-down",'-<span class="ui-helper-hidden-accessible"> Volume Down</span>').click(function(){a.voldwn()}),f=$("<span />").attr({id:"vol-"+a.config.id,"class":"vol-display"}).text("100%"),g=[c,e,d,f],h=0;h<g.length;h+=1)b[0].appendChild(g[h][0]);return b},window.NOMENSA.player.MediaplayerDecorator.prototype.getSliderBar=function(){for(var a=$("<span />").addClass("ui-helper-hidden-accessible").html("<p>The timeline slider below uses WAI ARIA. Please use the documentation for your screen reader to find out more.</p>"),b=$("<span />").addClass("current-time").attr({id:"current-"+this.config.id}).text("00:00:00"),c=this.getSlider(),d=$("<span />").addClass("duration-time").attr({id:"duration-"+this.config.id}).text("00:00:00"),e=$("<div />").addClass("timer-bar").append(a),f=[b,c,d],g=0;g<f.length;g+=1)e[0].appendChild(f[g][0]);return e},window.NOMENSA.player.MediaplayerDecorator.prototype.getSlider=function(){var a=this,b=$("<span />").attr("id","slider-"+this.config.id).slider({orientation:"horizontal",change:function(b,c){var d=c.value,e=d/100*a.getDuration();a.seek(e)}});b.find("a.ui-slider-handle").attr({role:"slider","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"0","aria-valuetext":"0 percent",title:"Slider Control"});var c=$("<span />").addClass("progress-bar").attr({id:"progress-bar-"+this.config.id,tabindex:"-1"}).addClass("ui-progressbar-value ui-widget-header ui-corner-left").css({width:"0%",height:"95%"}),d=$("<span />").attr({id:"loaded-bar-"+this.config.id,tabindex:"-1"}).addClass("loaded-bar ui-progressbar-value ui-widget-header ui-corner-left").css({height:"95%",width:"0%"});return b.append(c,d)},window.NOMENSA.player.MediaplayerDecorator.prototype.setSliderTimeout=function(){var a=this;void 0==a.sliderInterval&&(a.sliderInterval=setInterval(function(){a.updateSlider()},a.config.sliderTimeout))},window.NOMENSA.player.MediaplayerDecorator.prototype.clearSliderTimeout=function(){var a=this;void 0!=a.sliderInterval&&(a.sliderInterval=clearInterval(a.sliderInterval))},window.NOMENSA.player.MediaplayerDecorator.prototype.updateSlider=function(){var a="undefined"!=typeof this.duration?this.duration:this.getDuration(),b="boolean"==typeof this.duration_found?this.duration_found:!1,c=this.getCurrentTime(),d=0;a>0?(d=c/a*100,d=parseInt(d,10)):a=0,b||($("#duration-"+this.config.id).html(this.formatTime(parseInt(a,10))),this.duration_found=!0),$("#slider-"+this.config.id).find("a.ui-slider-handle").attr({"aria-valuenow":d,"aria-valuetext":d.toString()+" percent"}).css("left",d.toString()+"%"),$("#progress-bar-"+this.config.id).attr({"aria-valuenow":d,"aria-valuetext":d.toString()+" percent"}).css("width",d.toString()+"%"),this.updateLoaderBar(),this.updateTime(c)},window.NOMENSA.player.MediaplayerDecorator.prototype.updateLoaderBar=function(){var a=this.getBytesLoaded()/this.getBytesTotal()*100;a=parseInt(a,10),isFinite(a)||(a=0),$("#loaded-bar-"+this.config.id).attr({"aria-valuetext":a.toString()+" percent","aria-valuenow":a}).css("width",a.toString()+"%")},window.NOMENSA.player.MediaplayerDecorator.prototype.formatTime=function(a){var b=0,c=0,d=0;a>=60?(c=parseInt(a/60,10),d=a-60*c,c>=60&&(b=parseInt(c/60,10),c-=parseInt(60*b,10))):d=a;for(var e=[b,c,d],f=0;f<e.length;f+=1)e[f]=e[f]<10?"0"+e[f].toString():e[f].toString();return e.join(":")},window.NOMENSA.player.MediaplayerDecorator.prototype.updateTime=function(a){var b=this.formatTime(parseInt(a,10));this.$html.find("#current-"+this.config.id).html(b)},window.NOMENSA.player.MediaplayerDecorator.prototype.getControls=function(){var a=$("<span />").addClass("ui-corner-bottom").addClass("control-bar"),b=$("<a />").attr("href","http://www.nomensa.com?ref=logo").html("Accessible Media Player by Nomensa").addClass("logo");a.append(b);for(var c=this.getFuncControls(),d=this.getVolControls(),e=this.getSliderBar(),f=[c,d,e],g=0;g<f.length;g+=1)a[0].appendChild(f[g][0]);return a},window.NOMENSA.player.MediaplayerDecorator.prototype.updateVolume=function(a){$("#vol-"+this.config.id).text(a.toString()+"%");var b=this.$html.find("button.mute");0==a?b.addClass("muted"):b.hasClass("muted")&&b.removeClass("muted")},window.NOMENSA.player.MediaplayerDecorator.prototype.getCaptions=function(){var a=this;if(a.config.captions){$.ajax({url:a.config.captions,success:function(b){$(b).find("p").length>0&&(a.captions=$(b).find("p"))}})}},window.NOMENSA.player.MediaplayerDecorator.prototype.toggleCaptions=function(){var a=this,b=this.$html.find(".captions");b.hasClass("captions-off")?(b.removeClass("captions-off").addClass("captions-on"),a.getPreviousCaption(),a.setCaptionTimeout(),a.config.captionsOn=!0):(b.removeClass("captions-on").addClass("captions-off"),a.clearCaptionTimeout(),a.$html.find(".caption").remove(),a.config.captionsOn=!1)},window.NOMENSA.player.MediaplayerDecorator.prototype.syncCaptions=function(){var a;if(this.captions){var b=this.getCurrentTime();b=this.formatTime(parseInt(b,10)),a=this.captions.filter('[begin="'+b+'"]'),1==a.length&&this.insertCaption(a)}},window.NOMENSA.player.MediaplayerDecorator.prototype.insertCaption=function(a){if(1==this.$html.find(".caption").length)this.$html.find(".caption").text(a.text());else{var b=$("<div>").text(a.text());b[0].className="caption",this.$html.find(".video").prepend(b)}},window.NOMENSA.player.MediaplayerDecorator.prototype.getPreviousCaption=function(a){var b;void 0==a&&(a=this.getCurrentTime());var c=this.formatTime(parseInt(a,10));if(this.captions){for(b=this.captions.filter('[begin="'+c+'"]');1!=b.length&&a>0;)a--,c=this.formatTime(parseInt(a,10)),b=this.captions.filter('[begin="'+c+'"]');1==b.length&&this.insertCaption(b)}},window.NOMENSA.player.MediaplayerDecorator.prototype.destroyPlayerInstance=function(){return!1},window.NOMENSA.player.MediaplayerDecorator.prototype.destroy=function(){this.clearSliderTimeout(),this.clearCaptionTimeout(),this.destroyPlayerInstance(),this.$html.remove()},window.NOMENSA.player.MediaplayerDecorator.prototype.setCaptionTimeout=function(){var a=this;void 0==a.captionInterval&&(a.captionInterval=setInterval(function(){a.syncCaptions()},500))},window.NOMENSA.player.MediaplayerDecorator.prototype.clearCaptionTimeout=function(){void 0!=this.captionInterval&&(this.captionInterval=clearInterval(this.captionInterval))},window.NOMENSA=window.NOMENSA||{},window.NOMENSA.player=window.NOMENSA.player||{},jQuery(function(a){a(window).resize(function(){a(".player-container").each(function(){a(this).width()>580?a(this).addClass("player-wide"):a(this).removeClass("player-wide")})})}),"undefined"==typeof window.postMessage&&(window.NOMENSA.player.stateHandlers={}),window.NOMENSA.player.PlayerManager=function(){var a={};this.getPlayer=function(b){return void 0!=a[b]?a[b]:null},this.addPlayer=function(b){return a[b.config.id]=b,!0},this.removePlayer=function(b){void 0!=a[b]&&(a[b].destroy(),delete a[b])},this.map=function(b){var c;for(c in a)b(a[c])}},window.NOMENSA.player.PlayerDaemon=new window.NOMENSA.player.PlayerManager;var html5_methods={play:function(){this.player.play(),this.setSliderTimeout(),this.config.captionsOn&&this.captions&&this.setCaptionTimeout()},pause:function(){this.player.pause(),this.clearSliderTimeout(),this.config.captionsOn&&this.captions&&this.clearCaptionTimeout()},ffwd:function(){var a=this.getCurrentTime()+this.config.playerSkip;this.seek(a)},rewd:function(){var a=this.getCurrentTime()-this.config.playerSkip;0>a&&(a=0),this.seek(a)},mute:function(){var a=this.$html.find("button.mute");this.player.muted?(this.player.muted=!1,a.hasClass("muted")&&a.removeClass("muted")):(this.player.muted=!0,a.addClass("muted"))},volup:function(){var a=100*this.player.volume;a<100-this.config.volumeStep?a+=this.config.volumeStep:a=100,this.player.volume=a/100,this.updateVolume(Math.round(a))},voldwn:function(){var a=100*this.player.volume;a>this.config.volumeStep?a-=this.config.volumeStep:a=0,this.player.volume=a/100,this.updateVolume(Math.round(a))},getDuration:function(){return this.player.duration},getCurrentTime:function(){return this.player.currentTime},getBytesLoaded:function(){return this.player.buffered.end(0)},getBytesTotal:function(){return this.player.duration},seek:function(a){this.player.currentTime=a},cue:function(){}};!function(a){a.fn.player=function(b,c){function d(){this.config=f,a.extend(!0,this,k,c),this.is_html5=!1;var b=i(this);b&&g(b.mimetype,b.container)&&this.config.useHtml5?(this.is_html5=!0,this.$html=this.assembleHTML5(b.container,b.mimetype),a.extend(this,html5_methods)):this.$html=this.assembleHTML(),this.config.captions&&this.getCaptions()}var e={id:"media_player",url:window.location.protocol+"//www.youtube.com/apiplayer?enablejsapi=1&version=3&playerapiid=",media:"8LiQ-bLJaM4",repeat:!1,captions:null,captionsOn:!0,flashWidth:"100%",flashHeight:"300px",playerStyles:{height:"100%",width:"100%"},sliderTimeout:350,flashContainer:"span",playerContainer:"span",image:"",playerSkip:10,volumeStep:10,buttons:{forward:!0,rewind:!0,toggle:!0},logoURL:"http://www.nomensa.com?ref=logo",useHtml5:!0,swfCallback:null},f=a.extend(!0,{},e,b),g=function(a,b){var c=document.createElement(b);if(void 0!=c.canPlayType){var d=c.canPlayType(a);if("maybe"==d.toLowerCase()||"probably"==d.toLowerCase())return!0}return!1},h=function(a){var b="",c="video";switch(a){case"mp4":b='video/mp4; codecs="avc1.42E01E, mp4a.40.2"';break;case"m4v":b='video/mp4; codecs="avc1.42E01E, mp4a.40.2"';break;case"ogg":b='video/ogg; codecs="theora, vorbis"';break;case"ogv":b='video/ogg; codecs="theora, vorbis"';break;case"webm":b='video/webm; codecs="vp8, vorbis"';break;case"mp3":b="audio/mpeg",c="audio"}return{mimetype:b,container:c}},i=function(a){var b=a.config.media,c=b.lastIndexOf(".");if(-1!=c){var d=b.substring(c+1),e=h(d);return e}return null},j=function(){return a.browser.mozilla?parseInt(a.browser.version,10)>=2?!0:!1:!1},k={generatePlayerContainer:function(){var b=a("<"+this.config.playerContainer+" />").css(this.config.playerStyles).addClass("player-container");return a.browser.msie&&b.addClass("player-container-ie player-container-ie-"+a.browser.version.substring(0,1)),b},getFlashVars:function(){var a={controlbar:"none",file:this.config.media};return""!=this.config.image&&(a.image=this.config.image),this.config.repeat&&(a.repeat=this.config.repeat),a},getFlashParams:function(){return{allowScriptAccess:"always",wmode:"transparent"}},getURL:function(){return[this.config.url,this.config.id].join("")},generateFlashPlayer:function(b){var c=this,d=this.getFlashVars(),e=this.getFlashParams(),f={id:this.config.id,name:this.config.id},g=a("<"+this.config.flashContainer+" />").attr("id","player-"+this.config.id).addClass("flashReplace").html('This content requires Macromedia Flash Player. You can <a href="http://get.adobe.com/flashplayer/">install or upgrade the Adobe Flash Player here</a>.'),h=a("<span />").addClass("video"),i=this.getURL();return setTimeout(function(){swfobject.embedSWF(i,g.attr("id"),c.config.flashWidth,c.config.flashHeight,"9.0.115",null,d,e,f,c.config.swfCallback),j()&&c.$html.find("object").attr("tabindex","-1")},0),b.append(h.append(g)),b},generateHTML5Player:function(b,c,d){var e=a("<span />");e[0].className="video";var f=a("<"+c+" />").attr({id:this.config.id,src:this.config.media,type:d}).css({width:"100%",height:"50%"});return""!=a.trim(this.config.image)&&f.attr({poster:a.trim(this.config.image)}),b.append(e.append(f))},createButton:function(b,c){var d=[b,this.config.id].join("-"),e=a("<button />").append(c).addClass(b).attr({title:b,id:d}).addClass("ui-corner-all ui-state-default").hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){a(this).addClass("ui-state-focus")}).blur(function(){a(this).removeClass("ui-state-focus")}).click(function(a){a.preventDefault()});return e},getFuncControls:function(){var b=this,c=a("<div>");c[0].className="player-controls";var d=[];if(b.config.buttons.toggle){var e=b.createButton("play","Play").attr({"aria-live":"assertive"}).click(function(){a(this).hasClass("play")?(a(this).removeClass("play").addClass("pause").attr({title:"Pause",id:"pause-"+b.config.id}).text("Pause"),b.play()):(a(this).removeClass("pause").addClass("play").attr({title:"Play",id:"play-"+b.config.id}).text("Play"),b.pause())});d.push(e)}else{var f=b.createButton("play","Play").click(function(){b.play()}),g=b.createButton("pause","Pause").click(function(){b.pause()});d.push(f),d.push(g)}if(b.config.buttons.rewind){var h=b.createButton("rewind","Rewind").click(function(){b.rewd()});d.push(h)}if(b.config.buttons.forward){var i=b.createButton("forward","Forward").click(function(){b.ffwd()});d.push(i)}if(b.config.captions){var j=b.createButton("captions","Captions").click(function(){b.toggleCaptions()}),k=1==b.config.captionsOn?"captions-on":"captions-off";j.addClass(k),d.push(j)}var l;for(l=0;l<d.length;l+=1)c[0].appendChild(d[l][0]);return c},getVolControls:function(){var b,c=this,d=a("<div>").addClass("volume-controls"),e=c.createButton("mute","Mute").click(function(){c.mute()}),f=c.createButton("vol-up",'+<span class="ui-helper-hidden-accessible"> Volume Up</span>').click(function(){c.volup()}),g=c.createButton("vol-down",'-<span class="ui-helper-hidden-accessible"> Volume Down</span>').click(function(){c.voldwn()}),h=a("<span />").attr({id:"vol-"+c.config.id,"class":"vol-display"}).text("100%"),i=[e,g,f,h];for(b=0;b<i.length;b+=1)d[0].appendChild(i[b][0]);return d},getSliderBar:function(){var b,c=a("<span />").addClass("ui-helper-hidden-accessible").html("<p>The timeline slider below uses WAI ARIA. Please use the documentation for your screen reader to find out more.</p>"),d=a("<span />").addClass("current-time").attr({id:"current-"+this.config.id}).text("00:00:00"),e=this.getSlider(),f=a("<span />").addClass("duration-time").attr({id:"duration-"+this.config.id}).text("00:00:00"),g=a("<div />").addClass("timer-bar").append(c),h=[d,e,f];for(b=0;b<h.length;b+=1)g[0].appendChild(h[b][0]);return g},getSlider:function(){var b=this,c=a("<span />").attr("id","slider-"+this.config.id).slider({orientation:"horizontal",change:function(a,c){var d=c.value,e=d/100*b.getDuration();b.seek(e)}});c.find("a.ui-slider-handle").attr({role:"slider","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"0","aria-valuetext":"0 percent",title:"Slider Control"});
var d=a("<span />").addClass("progress-bar").attr({id:"progress-bar-"+this.config.id,tabindex:"-1"}).addClass("ui-progressbar-value ui-widget-header ui-corner-left").css({width:"0%",height:"95%"}),e=a("<span />").attr({id:"loaded-bar-"+this.config.id,tabindex:"-1"}).addClass("loaded-bar ui-progressbar-value ui-widget-header ui-corner-left").css({height:"95%",width:"0%"});return c.append(d,e)},setSliderTimeout:function(){var a=this;void 0==a.sliderInterval&&(a.sliderInterval=setInterval(function(){a.updateSlider()},a.config.sliderTimeout))},clearSliderTimeout:function(){var a=this;void 0!=a.sliderInterval&&(a.sliderInterval=clearInterval(a.sliderInterval))},updateSlider:function(){var b="undefined"!=typeof this.duration?this.duration:this.getDuration(),c="boolean"==typeof this.duration_found?this.duration_found:!1,d=this.getCurrentTime(),e=0;b>0?(e=d/b*100,e=parseInt(e,10)):b=0,c||(a("#duration-"+this.config.id).html(this.formatTime(parseInt(b,10))),this.duration_found=!0),a("#slider-"+this.config.id).find("a.ui-slider-handle").attr({"aria-valuenow":e,"aria-valuetext":e.toString()+" percent"}).css("left",e.toString()+"%"),a("#progress-bar-"+this.config.id).attr({"aria-valuenow":e,"aria-valuetext":e.toString()+" percent"}).css("width",e.toString()+"%"),this.updateLoaderBar(),this.updateTime(d)},updateLoaderBar:function(){var b=this.getBytesLoaded()/this.getBytesTotal()*100;b=parseInt(b,10),isFinite(b)||(b=0),a("#loaded-bar-"+this.config.id).attr({"aria-valuetext":b.toString()+" percent","aria-valuenow":b}).css("width",b.toString()+"%")},formatTime:function(a){var b=0,c=0,d=0;a>=60?(c=parseInt(a/60,10),d=a-60*c,c>=60&&(b=parseInt(c/60,10),c-=parseInt(60*b,10))):d=a;var e,f=[b,c,d];for(e=0;e<f.length;e+=1)f[e]=f[e]<10?"0"+f[e].toString():f[e].toString();return f.join(":")},updateTime:function(a){var b=this.formatTime(parseInt(a,10));this.$html.find("#current-"+this.config.id).html(b)},getControls:function(){var b=a("<span />").addClass("ui-corner-bottom").addClass("control-bar"),c=a("<a />").attr("href","http://www.nomensa.com?ref=logo").html("Accessible Media Player by Nomensa").addClass("logo");b.append(c);var d,e=this.getFuncControls(),f=this.getVolControls(),g=this.getSliderBar(),h=[e,f,g];for(d=0;d<h.length;d+=1)b[0].appendChild(h[d][0]);return b},assembleHTML:function(){var a=this.generatePlayerContainer(),b=this.generateFlashPlayer(a),c=b.append(this.getControls());return c},assembleHTML5:function(a,b){var c=this.generatePlayerContainer(),d=this.generateHTML5Player(c,a,b),e=d.append(this.getControls());return e},updateVolume:function(b){a("#vol-"+this.config.id).text(b.toString()+"%");var c=this.$html.find("button.mute");0==b?c.addClass("muted"):c.hasClass("muted")&&c.removeClass("muted")},getCaptions:function(){var b=this;if(b.config.captions){a.ajax({url:b.config.captions,success:function(c){a(c).find("p").length>0&&(b.captions=a(c).find("p"))}})}},syncCaptions:function(){var a;if(this.captions){var b=this.getCurrentTime();b=this.formatTime(parseInt(b,10)),a=this.captions.filter('[begin="'+b+'"]'),1==a.length&&this.insertCaption(a)}},insertCaption:function(b){if(1==this.$html.find(".caption").length)this.$html.find(".caption").text(b.text());else{var c=a("<div>").text(b.text());c[0].className="caption",this.$html.find(".video").prepend(c)}},getPreviousCaption:function(a){var b;void 0==a&&(a=this.getCurrentTime());var c=this.formatTime(parseInt(a,10));if(this.captions){for(b=this.captions.filter('[begin="'+c+'"]');1!=b.length&&a>0;)a--,c=this.formatTime(parseInt(a,10)),b=this.captions.filter('[begin="'+c+'"]');1==b.length&&this.insertCaption(b)}},destroyPlayerInstance:function(){return!1},destroy:function(){this.clearSliderTimeout(),this.clearCaptionTimeout(),this.destroyPlayerInstance(),this.$html.remove()},setCaptionTimeout:function(){var a=this;void 0==a.captionInterval&&(a.captionInterval=setInterval(function(){a.syncCaptions()},500))},clearCaptionTimeout:function(){void 0!=this.captionInterval&&(this.captionInterval=clearInterval(this.captionInterval))},play:function(){this.player.playVideo(),this.setSliderTimeout(),this.config.captionsOn&&this.captions&&this.setCaptionTimeout()},pause:function(){this.player.pauseVideo(),this.clearSliderTimeout(),this.config.captionsOn&&this.captions&&this.clearCaptionTimeout()},ffwd:function(){var a=this.getCurrentTime()+this.config.playerSkip;this.seek(a)},rewd:function(){var a=this.getCurrentTime()-this.config.playerSkip;0>a&&(a=0),this.seek(a)},mute:function(){var a=this.$html.find("button.mute");this.player.isMuted()?(this.player.unMute(),a.hasClass("muted")&&a.removeClass("muted")):(this.player.mute(),a.addClass("muted"))},volup:function(){var a=this.player.getVolume();a<100-this.config.volumeStep?a+=this.config.volumeStep:a=100,this.player.setVolume(a),this.updateVolume(a)},voldwn:function(){var a=this.player.getVolume();a>this.config.volumeStep?a-=this.config.volumeStep:a=0,this.player.setVolume(a),this.updateVolume(a)},getDuration:function(){return this.player.getDuration()},getCurrentTime:function(){return this.player.getCurrentTime()},getBytesLoaded:function(){return this.player.getVideoBytesLoaded()},getBytesTotal:function(){return this.player.getVideoBytesTotal()},seek:function(a){this.player.seekTo(a),this.config.captionsOn&&this.captions&&(this.$html.find(".caption").remove(),this.clearCaptionTimeout(),this.setCaptionTimeout(),this.getPreviousCaption())},cue:function(){this.player.cueVideoById(this.config.media)},toggleCaptions:function(){var a=this,b=this.$html.find(".captions");b.hasClass("captions-off")?(b.removeClass("captions-off").addClass("captions-on"),a.getPreviousCaption(),a.setCaptionTimeout(),a.config.captionsOn=!0):(b.removeClass("captions-on").addClass("captions-off"),a.clearCaptionTimeout(),a.$html.find(".caption").remove(),a.config.captionsOn=!1)}};return this.each(function(b){var c,e,g=a(this),h=function(a){a.$html.width()>580&&a.$html.addClass("player-wide"),a.is_html5&&(a.player=document.getElementById(a.config.id))};f.url.match(/^(http|https)\:\/\/www\.youtube\.com/)?(c=new window.NOMENSA.player.YoutubePlayer(f),e=new window.NOMENSA.player.MediaplayerDecorator(c),e.onPlayerReady(function(){h(e),this.getPlayer().setLoop(!0)}),e.init(g)):(e=new d(b),g.html(e.$html),h(e),window.NOMENSA.player.PlayerDaemon.addPlayer(e))})}}(jQuery),function(){"use strict";function a(a){this.$el=b(a.el),this._loadOption(a,"name"),this._loadOption(a,"customVarIndex"),this._loadOption(a,"cohorts"),this._loadOption(a,"runImmediately",!0),this.runImmediately&&this.run()}window.GOVUK=window.GOVUK||{};var b=window.$;a.prototype._loadOption=function(a,b,c){if(void 0!==a[b]&&(this[b]=a[b]),void 0===this[b]){if(void 0===c)throw new Error(b+" option is required for a multivariate test");this[b]=c}},a.prototype.run=function(){var a=this.getCohort();a&&(this.setCustomVar(a),this.executeCohort(a))},a.prototype.executeCohort=function(a){var b=this.cohorts[a];b.callback&&("string"==typeof b.callback?this[b.callback]():b.callback()),b.html&&(this.$el.html(b.html),this.$el.show())},a.prototype.getCohort=function(){var a=GOVUK.cookie(this.cookieName());return a&&this.cohorts[a]||(a=this.chooseRandomCohort(),GOVUK.cookie(this.cookieName(),a,{days:30})),a},a.prototype.setCustomVar=function(a){window._gaq=window._gaq||[],window._gaq.push(["_setCustomVar",this.customVarIndex,this.cookieName(),a,2]),window._gaq.push(["_trackEvent",this.cookieName(),"run","-",0,!0])},a.prototype.cohortNames=function(){return b.map(this.cohorts,function(a,b){return b})},a.prototype.chooseRandomCohort=function(){var a=this.cohortNames();return a[Math.floor(Math.random()*a.length)]},a.prototype.cookieName=function(){return"multivariatetest_cohort_"+this.name},window.GOVUK.MultivariateTest=a}(),function(){"use strict";var a=this,b=a.jQuery;"undefined"==typeof a.GOVUK&&(a.GOVUK={});var c={_pollingId:null,_isPolling:!1,_hasScrollEvt:!1,_els:[],addEl:function(d,e){var f;if(d.length){f=parseInt(d.css("top"),10),f=isNaN(f)?0:f,c.updateFooterTop(),b(a).on("govuk.pageSizeChanged",c.updateFooterTop);var g=b("<div></div>");g.insertBefore(d);var h=g.offset().top-g.position().top;g.remove();var i={$fixedEl:d,height:e+f,fixedTop:e+h,state:"fixed"};c._els.push(i),c.initTimeout()}},updateFooterTop:function(){var a=b(".js-footer:eq(0)");return 0===a.length?0:void(c.footerTop=a.offset().top-10)},initTimeout:function(){c._hasScrollEvt===!1&&(b(window).scroll(c.onScroll),c._hasScrollEvt=!0)},onScroll:function(){c._isPolling===!1&&c.startPolling()},startPolling:function(){return window.requestAnimationFrame?function(){var a=function(){c.checkScroll(),c._isPolling===!0&&c.startPolling()};c._pollingId=window.requestAnimationFrame(a),c._isPolling=!0}:function(){c._pollingId=window.setInterval(c.checkScroll,16),c._isPolling=!0}}(),stopPolling:function(){return window.requestAnimationFrame?function(){window.cancelAnimationFrame(c._pollingId),c._isPolling=!1}:function(){window.clearInterval(c._pollingId),c._isPolling=!1}}(),checkScroll:function(){var a=b(window).scrollTop();return a<c.cachedScrollTop+2&&a>c.cachedScrollTop-2?void c.stopPolling():(c.cachedScrollTop=a,void b.each(c._els,function(b,d){var e=a+d.height;e>c.footerTop?c.stick(d):c.unstick(d)}))},stick:function(a){"fixed"===a.state&&"fixed"===a.$fixedEl.css("position")&&(a.$fixedEl.css({position:"absolute",top:c.footerTop-a.fixedTop}),a.state="absolute")},unstick:function(a){"absolute"===a.state&&(a.$fixedEl.css({position:"",top:""}),a.state="fixed")}};a.GOVUK.stopScrollingAtFooter=c,b(a).load(function(){b(a).trigger("govuk.pageSizeChanged")})}.call(this);var GOVUK=GOVUK||{};GOVUK.performance=GOVUK.performance||{},GOVUK.performance.stageprompt=function(){var a,b,c;return c=function(a){var b=a.split(":");return b.length<=3?b:[b.shift(),b.shift(),b.join(":")]},a=function(a){var b=$("[data-journey]").attr("data-journey"),d=$("[data-journey-click]");b&&a.apply(null,c(b)),d.on("click",function(){a.apply(null,c($(this).data("journey-click")))})},b=function(){a(GOVUK.performance.sendGoogleAnalyticsEvent)},{setup:a,setupForGoogleAnalytics:b}}(),GOVUK.performance.sendGoogleAnalyticsEvent=function(a,b,c){_gaq.push(["_trackEvent",a,b,c,void 0,!0])};