/*! moj-assets - v0.0.1 - 2014-01-30
* http://github.com/ministryofjustice
* Copyright (c) 2014 MOJ Digital Service; Licensed  */
(function(){"use strict";var a=this;"undefined"==typeof a.GOVUK&&(a.GOVUK={}),GOVUK.addCookieMessage=function(){var a=document.getElementById("global-cookie-message"),b=a&&null===GOVUK.cookie("seen_cookie_message");b&&(a.style.display="block",GOVUK.cookie("seen_cookie_message","yes",{days:28}))}}).call(this),function(){"use strict";var a=this;"undefined"==typeof a.GOVUK&&(a.GOVUK={}),GOVUK.cookie=function(a,b,c){return"undefined"!=typeof b?b===!1||null===b?GOVUK.setCookie(a,"",{days:-1}):GOVUK.setCookie(a,b,c):GOVUK.getCookie(a)},GOVUK.setCookie=function(a,b,c){"undefined"==typeof c&&(c={});var d=a+"="+b+"; path=/";if(c.days){var e=new Date;e.setTime(e.getTime()+24*c.days*60*60*1e3),d=d+"; expires="+e.toGMTString()}"https:"==document.location.protocol&&(d+="; Secure"),document.cookie=d},GOVUK.getCookie=function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0,e=c.length;e>d;d++){for(var f=c[d];" "==f.charAt(0);)f=f.substring(1,f.length);if(0===f.indexOf(b))return decodeURIComponent(f.substring(b.length))}return null}}.call(this),function(){"use strict";var a,b=null!==window.navigator.userAgent.match(/(\(Windows[\s\w\.]+\))[\/\(\s\w\.\,\)]+(Version\/[\d\.]+)\s(Safari\/[\d\.]+)/);if(b&&(a=document.createElement("style"),a.setAttribute("type","text/css"),a.setAttribute("media","print"),a.innerHTML='@font-face { font-family: nta !important; src: local("Arial") !important; }',document.getElementsByTagName("head")[0].appendChild(a)),window.GOVUK&&GOVUK.addCookieMessage&&GOVUK.addCookieMessage(),document.querySelectorAll){var c,d,e=document.querySelectorAll(".js-header-toggle");for(c=0,d=e.length;d>c;c++)e[c].addEventListener("click",function(a){a.preventDefault();var b=document.getElementById(this.getAttribute("href").substr(1)),c=b.getAttribute("class")||"",d=this.getAttribute("class")||"";-1!==c.indexOf("js-visible")?b.setAttribute("class",c.replace(/(^|\s)js-visible(\s|$)/,"")):b.setAttribute("class",c+" js-visible"),-1!==d.indexOf("js-hidden")?this.setAttribute("class",d.replace(/(^|\s)js-hidden(\s|$)/,"")):this.setAttribute("class",d+" js-hidden")})}}.call(this),function(){"use strict";function a(a){this.$el=b(a.el),this._loadOption(a,"name"),this._loadOption(a,"customVarIndex"),this._loadOption(a,"cohorts"),this._loadOption(a,"runImmediately",!0),this.runImmediately&&this.run()}window.GOVUK=window.GOVUK||{};var b=window.$;a.prototype._loadOption=function(a,b,c){if(void 0!==a[b]&&(this[b]=a[b]),void 0===this[b]){if(void 0===c)throw new Error(b+" option is required for a multivariate test");this[b]=c}},a.prototype.run=function(){var a=this.getCohort();a&&(this.setCustomVar(a),this.executeCohort(a))},a.prototype.executeCohort=function(a){var b=this.cohorts[a];b.callback&&("string"==typeof b.callback?this[b.callback]():b.callback()),b.html&&(this.$el.html(b.html),this.$el.show())},a.prototype.getCohort=function(){var a=GOVUK.cookie(this.cookieName());return a&&this.cohorts[a]||(a=this.chooseRandomCohort(),GOVUK.cookie(this.cookieName(),a,{days:30})),a},a.prototype.setCustomVar=function(a){window._gaq=window._gaq||[],window._gaq.push(["_setCustomVar",this.customVarIndex,this.cookieName(),a,2]),window._gaq.push(["_trackEvent",this.cookieName(),"run","-",0,!0])},a.prototype.cohortNames=function(){return b.map(this.cohorts,function(a,b){return b})},a.prototype.chooseRandomCohort=function(){var a=this.cohortNames();return a[Math.floor(Math.random()*a.length)]},a.prototype.cookieName=function(){return"multivariatetest_cohort_"+this.name},window.GOVUK.MultivariateTest=a}(),function(){"use strict";var a=this,b=a.jQuery;"undefined"==typeof a.GOVUK&&(a.GOVUK={});var c={_pollingId:null,_isPolling:!1,_hasScrollEvt:!1,_els:[],addEl:function(d,e){var f;if(d.length){f=parseInt(d.css("top"),10),f=isNaN(f)?0:f,c.updateFooterTop(),b(a).on("govuk.pageSizeChanged",c.updateFooterTop);var g=b("<div></div>");g.insertBefore(d);var h=g.offset().top-g.position().top;g.remove();var i={$fixedEl:d,height:e+f,fixedTop:e+h,state:"fixed"};c._els.push(i),c.initTimeout()}},updateFooterTop:function(){var a=b(".js-footer:eq(0)");return 0===a.length?0:void(c.footerTop=a.offset().top-10)},initTimeout:function(){c._hasScrollEvt===!1&&(b(window).scroll(c.onScroll),c._hasScrollEvt=!0)},onScroll:function(){c._isPolling===!1&&c.startPolling()},startPolling:function(){return window.requestAnimationFrame?function(){var a=function(){c.checkScroll(),c._isPolling===!0&&c.startPolling()};c._pollingId=window.requestAnimationFrame(a),c._isPolling=!0}:function(){c._pollingId=window.setInterval(c.checkScroll,16),c._isPolling=!0}}(),stopPolling:function(){return window.requestAnimationFrame?function(){window.cancelAnimationFrame(c._pollingId),c._isPolling=!1}:function(){window.clearInterval(c._pollingId),c._isPolling=!1}}(),checkScroll:function(){var a=b(window).scrollTop();return a<c.cachedScrollTop+2&&a>c.cachedScrollTop-2?void c.stopPolling():(c.cachedScrollTop=a,void b.each(c._els,function(b,d){var e=a+d.height;e>c.footerTop?c.stick(d):c.unstick(d)}))},stick:function(a){"fixed"===a.state&&"fixed"===a.$fixedEl.css("position")&&(a.$fixedEl.css({position:"absolute",top:c.footerTop-a.fixedTop}),a.state="absolute")},unstick:function(a){"absolute"===a.state&&(a.$fixedEl.css({position:"",top:""}),a.state="fixed")}};a.GOVUK.stopScrollingAtFooter=c,b(a).load(function(){b(a).trigger("govuk.pageSizeChanged")})}.call(this),function(){"use strict";var a=function(){};a.prototype={set:function(a,b,c){"undefined"==typeof c&&(c={});var d,e=a+"="+b+"; path=/";c.days&&(d=new Date,d.setTime(d.getTime()+24*c.days*60*60*1e3),e=e+"; expires="+d.toGMTString()),"https:"===document.location.protocol&&(e+="; Secure"),document.cookie=e},get:function(a){var b,c,d,e=a+"=",f=document.cookie.split(";");for(b=0,c=f.length;c>b;){for(d=f[b];" "===d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(e))return decodeURIComponent(d.substring(e.length));b+=1}return null},remove:function(a){return void 0===moj.Modules.Cookie.get(a)?!1:(moj.Modules.Cookie.set(a,"",{days:-1}),!moj.Modules.Cookie.get(a))}},moj.Modules.Cookie=new a,moj.Modules.CookieMessage={init:function(){var a=document.getElementById("global-cookie-message"),b=a&&null===moj.Modules.Cookie.get("seen_cookie_message");b&&(a.style.display="block",moj.Modules.Cookie.set("seen_cookie_message","yes",{days:28}))}}}(),function(){"use strict";var a=function(a,b){this.settings=$.extend({},this.defaults,b),this._cacheEls(a),this._bindEvents(),this.settings.activatefirst?this._activateFirstLink():this._activatePane("*")};a.prototype={defaults:{activatefirst:!0,focusfirst:!1,activetabclass:"is-active",activepaneclass:"is-active",activetabelement:"li"},_cacheEls:function(a){this.$tabNav=$(".js-tabs-nav",a).first(),this.$tabs=$("a",this.$tabNav),this.$tabPanes=$(".js-tabs-content",a).first().children()},_bindEvents:function(){var a=this;this.$tabs.on("click",function(b){b.preventDefault(),a._activateTab($(this)),a._activatePane($(this).attr("href"))})},_activateTab:function(a){var b=this.settings.activetabclass,c=this.settings.activetabelement;this.$tabs.closest(c).removeClass(b),this.$tabs.filter(a).closest(c).addClass(b)},_activatePane:function(a){var b=this.$tabPanes.removeClass(this.settings.activepaneclass).filter(a).addClass(this.settings.activepaneclass);this.settings.focusfirst&&this._focusFirstElement(b)},_activateFirstLink:function(){this.$tabNav.find("li").first().find("a").click()},_focusFirstElement:function(a){a.find("a, input, textarea, select, button, [tabindex]").not(":disabled").first().focus()}},moj.Modules.tabs={init:function(){$(".js-tabs").each(function(){$(this).data("moj.tabs",new a($(this),$(this).data()))})}}}(),function(){"use strict";var a={Modules:{},Helpers:{},Events:$({}),init:function(){for(var b in a.Modules)"function"==typeof a.Modules[b].init&&a.Modules[b].init();a.Events.trigger("render")},log:function(a){window&&window.console&&window.console.log(a)},dir:function(a){window&&window.console&&window.console.dir(a)}};window.moj=a}();var GOVUK=GOVUK||{};GOVUK.performance=GOVUK.performance||{},GOVUK.performance.stageprompt=function(){var a,b,c;return c=function(a){var b=a.split(":");return b.length<=3?b:[b.shift(),b.shift(),b.join(":")]},a=function(a){var b=$("[data-journey]").attr("data-journey"),d=$("[data-journey-click]");b&&a.apply(null,c(b)),d.on("click",function(){a.apply(null,c($(this).data("journey-click")))})},b=function(){a(GOVUK.performance.sendGoogleAnalyticsEvent)},{setup:a,setupForGoogleAnalytics:b}}(),GOVUK.performance.sendGoogleAnalyticsEvent=function(a,b,c){_gaq.push(["_trackEvent",a,b,c,void 0,!0])};var webfont={};webfont.bind=function(a,b){var c=arguments.length>2?Array.prototype.slice.call(arguments,2):[];return function(){return c.push.apply(c,arguments),b.apply(a,c)}},webfont.extendsClass=function(a,b){function c(){}c.prototype=a.prototype,b.prototype=new c,b.prototype.constructor=b,b.superCtor_=a,b.super_=a.prototype},webfont.DomHelper=function(a,b){this.document_=a,this.userAgent_=b},webfont.DomHelper.prototype.createElement=function(a,b,c){var d=this.document_.createElement(a);if(b)for(var e in b)b.hasOwnProperty(e)&&("style"==e?this.setStyle(d,b[e]):d.setAttribute(e,b[e]));return c&&d.appendChild(this.document_.createTextNode(c)),d},webfont.DomHelper.prototype.insertInto=function(a,b){var c=this.document_.getElementsByTagName(a)[0];return c||(c=document.documentElement),c&&c.lastChild?(c.insertBefore(b,c.lastChild),!0):!1},webfont.DomHelper.prototype.whenBodyExists=function(a){var b=function(){document.body?a():setTimeout(b,0)};b()},webfont.DomHelper.prototype.removeElement=function(a){return a.parentNode?(a.parentNode.removeChild(a),!0):!1},webfont.DomHelper.prototype.createCssLink=function(a){return this.createElement("link",{rel:"stylesheet",href:a})},webfont.DomHelper.prototype.createScriptSrc=function(a){return this.createElement("script",{src:a})},webfont.DomHelper.prototype.appendClassName=function(a,b){for(var c=a.className.split(/\s+/),d=0,e=c.length;e>d;d++)if(c[d]==b)return;c.push(b),a.className=c.join(" ").replace(/^\s+/,"")},webfont.DomHelper.prototype.removeClassName=function(a,b){for(var c=a.className.split(/\s+/),d=[],e=0,f=c.length;f>e;e++)c[e]!=b&&d.push(c[e]);a.className=d.join(" ").replace(/^\s+/,"").replace(/\s+$/,"")},webfont.DomHelper.prototype.hasClassName=function(a,b){for(var c=a.className.split(/\s+/),d=0,e=c.length;e>d;d++)if(c[d]==b)return!0;return!1},webfont.DomHelper.prototype.setStyle=function(a,b){"MSIE"==this.userAgent_.getName()?a.style.cssText=b:a.setAttribute("style",b)},webfont.UserAgent=function(a,b,c,d,e,f,g,h){this.name_=a,this.version_=b,this.engine_=c,this.engineVersion_=d,this.platform_=e,this.platformVersion_=f,this.documentMode_=g,this.webFontSupport_=h},webfont.UserAgent.prototype.getName=function(){return this.name_},webfont.UserAgent.prototype.getVersion=function(){return this.version_},webfont.UserAgent.prototype.getEngine=function(){return this.engine_},webfont.UserAgent.prototype.getEngineVersion=function(){return this.engineVersion_},webfont.UserAgent.prototype.getPlatform=function(){return this.platform_},webfont.UserAgent.prototype.getPlatformVersion=function(){return this.platformVersion_},webfont.UserAgent.prototype.getDocumentMode=function(){return this.documentMode_},webfont.UserAgent.prototype.isSupportingWebFont=function(){return this.webFontSupport_},webfont.UserAgentParser=function(a,b){this.userAgent_=a,this.doc_=b},webfont.UserAgentParser.UNKNOWN="Unknown",webfont.UserAgentParser.UNKNOWN_USER_AGENT=new webfont.UserAgent(webfont.UserAgentParser.UNKNOWN,webfont.UserAgentParser.UNKNOWN,webfont.UserAgentParser.UNKNOWN,webfont.UserAgentParser.UNKNOWN,webfont.UserAgentParser.UNKNOWN,webfont.UserAgentParser.UNKNOWN,void 0,!1),webfont.UserAgentParser.prototype.parse=function(){return this.isIe_()?this.parseIeUserAgentString_():this.isOpera_()?this.parseOperaUserAgentString_():this.isWebKit_()?this.parseWebKitUserAgentString_():this.isGecko_()?this.parseGeckoUserAgentString_():webfont.UserAgentParser.UNKNOWN_USER_AGENT},webfont.UserAgentParser.prototype.getPlatform_=function(){var a=this.getMatchingGroup_(this.userAgent_,/(iPod|iPad|iPhone|Android)/,1);if(""!=a)return a;var b=this.getMatchingGroup_(this.userAgent_,/(Linux|Mac_PowerPC|Macintosh|Windows)/,1);return""!=b?("Mac_PowerPC"==b&&(b="Macintosh"),b):webfont.UserAgentParser.UNKNOWN},webfont.UserAgentParser.prototype.getPlatformVersion_=function(){var a=this.getMatchingGroup_(this.userAgent_,/(OS X|Windows NT|Android) ([^;)]+)/,2);if(a)return a;var b=this.getMatchingGroup_(this.userAgent_,/(iPhone )?OS ([\d_]+)/,2);if(b)return b;var c=this.getMatchingGroup_(this.userAgent_,/Linux ([i\d]+)/,1);return c?c:webfont.UserAgentParser.UNKNOWN},webfont.UserAgentParser.prototype.isIe_=function(){return-1!=this.userAgent_.indexOf("MSIE")},webfont.UserAgentParser.prototype.parseIeUserAgentString_=function(){{var a=this.getMatchingGroup_(this.userAgent_,/(MSIE [\d\w\.]+)/,1);webfont.UserAgentParser.UNKNOWN,webfont.UserAgentParser.UNKNOWN}if(""!=a){var b=a.split(" "),c=b[0],d=b[1];return new webfont.UserAgent(c,d,c,d,this.getPlatform_(),this.getPlatformVersion_(),this.getDocumentMode_(this.doc_),this.getMajorVersion_(d)>=6)}return new webfont.UserAgent("MSIE",webfont.UserAgentParser.UNKNOWN,"MSIE",webfont.UserAgentParser.UNKNOWN,this.getPlatform_(),this.getPlatformVersion_(),this.getDocumentMode_(this.doc_),!1)},webfont.UserAgentParser.prototype.isOpera_=function(){return-1!=this.userAgent_.indexOf("Opera")},webfont.UserAgentParser.prototype.parseOperaUserAgentString_=function(){var a=webfont.UserAgentParser.UNKNOWN,b=webfont.UserAgentParser.UNKNOWN,c=this.getMatchingGroup_(this.userAgent_,/(Presto\/[\d\w\.]+)/,1);if(""!=c){var d=c.split("/");a=d[0],b=d[1]}else{-1!=this.userAgent_.indexOf("Gecko")&&(a="Gecko");var e=this.getMatchingGroup_(this.userAgent_,/rv:([^\)]+)/,1);""!=e&&(b=e)}if(-1!=this.userAgent_.indexOf("Version/")){var f=this.getMatchingGroup_(this.userAgent_,/Version\/([\d\.]+)/,1);if(""!=f)return new webfont.UserAgent("Opera",f,a,b,this.getPlatform_(),this.getPlatformVersion_(),this.getDocumentMode_(this.doc_),this.getMajorVersion_(f)>=10)}var f=this.getMatchingGroup_(this.userAgent_,/Opera[\/ ]([\d\.]+)/,1);return""!=f?new webfont.UserAgent("Opera",f,a,b,this.getPlatform_(),this.getPlatformVersion_(),this.getDocumentMode_(this.doc_),this.getMajorVersion_(f)>=10):new webfont.UserAgent("Opera",webfont.UserAgentParser.UNKNOWN,a,b,this.getPlatform_(),this.getPlatformVersion_(),this.getDocumentMode_(this.doc_),!1)},webfont.UserAgentParser.prototype.isWebKit_=function(){return-1!=this.userAgent_.indexOf("AppleWebKit")},webfont.UserAgentParser.prototype.parseWebKitUserAgentString_=function(){var a=this.getPlatform_(),b=this.getPlatformVersion_(),c=this.getMatchingGroup_(this.userAgent_,/AppleWebKit\/([\d\.\+]+)/,1);""==c&&(c=webfont.UserAgentParser.UNKNOWN);var d=webfont.UserAgentParser.UNKNOWN;-1!=this.userAgent_.indexOf("Chrome")?d="Chrome":-1!=this.userAgent_.indexOf("Safari")?d="Safari":-1!=this.userAgent_.indexOf("AdobeAIR")&&(d="AdobeAIR");var e=webfont.UserAgentParser.UNKNOWN;-1!=this.userAgent_.indexOf("Version/")?e=this.getMatchingGroup_(this.userAgent_,/Version\/([\d\.\w]+)/,1):"Chrome"==d?e=this.getMatchingGroup_(this.userAgent_,/Chrome\/([\d\.]+)/,1):"AdobeAIR"==d&&(e=this.getMatchingGroup_(this.userAgent_,/AdobeAIR\/([\d\.]+)/,1));var f=!1;if("AdobeAIR"==d){var g=this.getMatchingGroup_(e,/\d+\.(\d+)/,1);f=this.getMajorVersion_(e)>2||2==this.getMajorVersion_(e)&&parseInt(g,10)>=5}else{var g=this.getMatchingGroup_(c,/\d+\.(\d+)/,1);f=this.getMajorVersion_(c)>=526||this.getMajorVersion_(c)>=525&&parseInt(g,10)>=13}return new webfont.UserAgent(d,e,"AppleWebKit",c,a,b,this.getDocumentMode_(this.doc_),f)},webfont.UserAgentParser.prototype.isGecko_=function(){return-1!=this.userAgent_.indexOf("Gecko")},webfont.UserAgentParser.prototype.parseGeckoUserAgentString_=function(){var a=webfont.UserAgentParser.UNKNOWN,b=webfont.UserAgentParser.UNKNOWN,c=!1;if(-1!=this.userAgent_.indexOf("Firefox")){a="Firefox";var d=this.getMatchingGroup_(this.userAgent_,/Firefox\/([\d\w\.]+)/,1);if(""!=d){var e=this.getMatchingGroup_(d,/\d+\.(\d+)/,1);b=d,c=""!=d&&this.getMajorVersion_(d)>=3&&parseInt(e,10)>=5}}else-1!=this.userAgent_.indexOf("Mozilla")&&(a="Mozilla");var f=this.getMatchingGroup_(this.userAgent_,/rv:([^\)]+)/,1);if(""==f)f=webfont.UserAgentParser.UNKNOWN;else if(!c){var g=this.getMajorVersion_(f),h=parseInt(this.getMatchingGroup_(f,/\d+\.(\d+)/,1),10),i=parseInt(this.getMatchingGroup_(f,/\d+\.\d+\.(\d+)/,1),10);c=g>1||1==g&&h>9||1==g&&9==h&&i>=2||null!=f.match(/1\.9\.1b[123]/)||null!=f.match(/1\.9\.1\.[\d\.]+/)}return new webfont.UserAgent(a,b,"Gecko",f,this.getPlatform_(),this.getPlatformVersion_(),this.getDocumentMode_(this.doc_),c)},webfont.UserAgentParser.prototype.getMajorVersion_=function(a){var b=this.getMatchingGroup_(a,/(\d+)/,1);return""!=b?parseInt(b,10):-1},webfont.UserAgentParser.prototype.getMatchingGroup_=function(a,b,c){var d=a.match(b);return d&&d[c]?d[c]:""},webfont.UserAgentParser.prototype.getDocumentMode_=function(a){return a.documentMode?a.documentMode:void 0},webfont.EventDispatcher=function(a,b,c,d){this.domHelper_=a,this.htmlElement_=b,this.callbacks_=c,this.namespace_=d||webfont.EventDispatcher.DEFAULT_NAMESPACE,this.cssClassName_=new webfont.CssClassName("-")},webfont.EventDispatcher.DEFAULT_NAMESPACE="wf",webfont.EventDispatcher.LOADING="loading",webfont.EventDispatcher.ACTIVE="active",webfont.EventDispatcher.INACTIVE="inactive",webfont.EventDispatcher.FONT="font",webfont.EventDispatcher.prototype.dispatchLoading=function(){this.domHelper_.appendClassName(this.htmlElement_,this.cssClassName_.build(this.namespace_,webfont.EventDispatcher.LOADING)),this.dispatch_(webfont.EventDispatcher.LOADING)},webfont.EventDispatcher.prototype.dispatchFontLoading=function(a,b){this.domHelper_.appendClassName(this.htmlElement_,this.cssClassName_.build(this.namespace_,a,b,webfont.EventDispatcher.LOADING)),this.dispatch_(webfont.EventDispatcher.FONT+webfont.EventDispatcher.LOADING,a,b)},webfont.EventDispatcher.prototype.dispatchFontActive=function(a,b){this.domHelper_.removeClassName(this.htmlElement_,this.cssClassName_.build(this.namespace_,a,b,webfont.EventDispatcher.LOADING)),this.domHelper_.removeClassName(this.htmlElement_,this.cssClassName_.build(this.namespace_,a,b,webfont.EventDispatcher.INACTIVE)),this.domHelper_.appendClassName(this.htmlElement_,this.cssClassName_.build(this.namespace_,a,b,webfont.EventDispatcher.ACTIVE)),this.dispatch_(webfont.EventDispatcher.FONT+webfont.EventDispatcher.ACTIVE,a,b)},webfont.EventDispatcher.prototype.dispatchFontInactive=function(a,b){this.domHelper_.removeClassName(this.htmlElement_,this.cssClassName_.build(this.namespace_,a,b,webfont.EventDispatcher.LOADING));var c=this.domHelper_.hasClassName(this.htmlElement_,this.cssClassName_.build(this.namespace_,a,b,webfont.EventDispatcher.ACTIVE));c||this.domHelper_.appendClassName(this.htmlElement_,this.cssClassName_.build(this.namespace_,a,b,webfont.EventDispatcher.INACTIVE)),this.dispatch_(webfont.EventDispatcher.FONT+webfont.EventDispatcher.INACTIVE,a,b)},webfont.EventDispatcher.prototype.dispatchInactive=function(){this.domHelper_.removeClassName(this.htmlElement_,this.cssClassName_.build(this.namespace_,webfont.EventDispatcher.LOADING));var a=this.domHelper_.hasClassName(this.htmlElement_,this.cssClassName_.build(this.namespace_,webfont.EventDispatcher.ACTIVE));a||this.domHelper_.appendClassName(this.htmlElement_,this.cssClassName_.build(this.namespace_,webfont.EventDispatcher.INACTIVE)),this.dispatch_(webfont.EventDispatcher.INACTIVE)},webfont.EventDispatcher.prototype.dispatchActive=function(){this.domHelper_.removeClassName(this.htmlElement_,this.cssClassName_.build(this.namespace_,webfont.EventDispatcher.LOADING)),this.domHelper_.removeClassName(this.htmlElement_,this.cssClassName_.build(this.namespace_,webfont.EventDispatcher.INACTIVE)),this.domHelper_.appendClassName(this.htmlElement_,this.cssClassName_.build(this.namespace_,webfont.EventDispatcher.ACTIVE)),this.dispatch_(webfont.EventDispatcher.ACTIVE)},webfont.EventDispatcher.prototype.dispatch_=function(a,b,c){this.callbacks_[a]&&this.callbacks_[a](b,c)},webfont.FontModuleLoader=function(){this.modules_={}},webfont.FontModuleLoader.prototype.addModuleFactory=function(a,b){this.modules_[a]=b},webfont.FontModuleLoader.prototype.getModules=function(a){var b=[];for(var c in a)if(a.hasOwnProperty(c)){var d=this.modules_[c];d&&b.push(d(a[c]))}return b},webfont.FontWatcher=function(a,b,c,d,e){this.domHelper_=a,this.eventDispatcher_=b,this.fontSizer_=c,this.asyncCall_=d,this.getTime_=e,this.currentlyWatched_=0,this.last_=!1,this.success_=!1},webfont.FontWatcher.DEFAULT_VARIATION="n4",webfont.FontWatcher.prototype.watch=function(a,b,c,d,e){for(var f=a.length,g=0;f>g;g++){var h=a[g];b[h]||(b[h]=[webfont.FontWatcher.DEFAULT_VARIATION]),this.currentlyWatched_+=b[h].length}e&&(this.last_=e);for(var g=0;f>g;g++)for(var h=a[g],i=b[h],j=c[h],k=0,l=i.length;l>k;k++){var m=i[k];this.eventDispatcher_.dispatchFontLoading(h,m);var n=webfont.bind(this,this.fontActive_),o=webfont.bind(this,this.fontInactive_),p=new d(n,o,this.domHelper_,this.fontSizer_,this.asyncCall_,this.getTime_,h,m,j);p.start()}},webfont.FontWatcher.prototype.fontActive_=function(a,b){this.eventDispatcher_.dispatchFontActive(a,b),this.success_=!0,this.decreaseCurrentlyWatched_()},webfont.FontWatcher.prototype.fontInactive_=function(a,b){this.eventDispatcher_.dispatchFontInactive(a,b),this.decreaseCurrentlyWatched_()},webfont.FontWatcher.prototype.decreaseCurrentlyWatched_=function(){0==--this.currentlyWatched_&&this.last_&&(this.success_?this.eventDispatcher_.dispatchActive():this.eventDispatcher_.dispatchInactive())},webfont.FontWatchRunner=function(a,b,c,d,e,f,g,h,i){this.activeCallback_=a,this.inactiveCallback_=b,this.domHelper_=c,this.fontSizer_=d,this.asyncCall_=e,this.getTime_=f,this.nameHelper_=new webfont.CssFontFamilyName,this.fvd_=new webfont.FontVariationDescription,this.fontFamily_=g,this.fontDescription_=h,this.fontTestString_=i||webfont.FontWatchRunner.DEFAULT_TEST_STRING,this.originalSizeA_=this.getDefaultFontSize_(webfont.FontWatchRunner.DEFAULT_FONTS_A),this.originalSizeB_=this.getDefaultFontSize_(webfont.FontWatchRunner.DEFAULT_FONTS_B),this.lastObservedSizeA_=this.originalSizeA_,this.lastObservedSizeB_=this.originalSizeB_,this.requestedFontA_=this.createHiddenElementWithFont_(webfont.FontWatchRunner.DEFAULT_FONTS_A),this.requestedFontB_=this.createHiddenElementWithFont_(webfont.FontWatchRunner.DEFAULT_FONTS_B)},webfont.FontWatchRunner.DEFAULT_FONTS_A="arial,'URW Gothic L',sans-serif",webfont.FontWatchRunner.DEFAULT_FONTS_B="Georgia,'Century Schoolbook L',serif",webfont.FontWatchRunner.DEFAULT_TEST_STRING="BESbswy",webfont.FontWatchRunner.prototype.start=function(){this.started_=this.getTime_(),this.check_()},webfont.FontWatchRunner.prototype.check_=function(){var a=this.fontSizer_.getWidth(this.requestedFontA_),b=this.fontSizer_.getWidth(this.requestedFontB_);this.originalSizeA_==a&&this.originalSizeB_==b||this.lastObservedSizeA_!=a||this.lastObservedSizeB_!=b?this.getTime_()-this.started_>=5e3?this.finish_(this.inactiveCallback_):(this.lastObservedSizeA_=a,this.lastObservedSizeB_=b,this.asyncCheck_()):this.finish_(this.activeCallback_)},webfont.FontWatchRunner.prototype.asyncCheck_=function(){this.asyncCall_(function(a,b){return function(){b.call(a)}}(this,this.check_),25)},webfont.FontWatchRunner.prototype.finish_=function(a){this.domHelper_.removeElement(this.requestedFontA_),this.domHelper_.removeElement(this.requestedFontB_),a(this.fontFamily_,this.fontDescription_)},webfont.FontWatchRunner.prototype.getDefaultFontSize_=function(a){var b=this.createHiddenElementWithFont_(a,!0),c=this.fontSizer_.getWidth(b);return this.domHelper_.removeElement(b),c},webfont.FontWatchRunner.prototype.createHiddenElementWithFont_=function(a,b){var c=this.computeStyleString_(a,this.fontDescription_,b),d=this.domHelper_.createElement("span",{style:c},this.fontTestString_);return this.domHelper_.insertInto("body",d),d},webfont.FontWatchRunner.prototype.computeStyleString_=function(a,b,c){var d=this.fvd_.expand(b),e="position:absolute;top:-999px;left:-999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;font-family:"+(c?"":this.nameHelper_.quote(this.fontFamily_)+",")+a+";"+d;return e},webfont.WebFont=function(a,b,c,d,e){this.domHelper_=a,this.fontModuleLoader_=b,this.htmlElement_=c,this.asyncCall_=d,this.userAgent_=e,this.moduleLoading_=0,this.moduleFailedLoading_=0},webfont.WebFont.prototype.addModule=function(a,b){this.fontModuleLoader_.addModuleFactory(a,b)},webfont.WebFont.prototype.load=function(a){var b=new webfont.EventDispatcher(this.domHelper_,this.htmlElement_,a);this.userAgent_.isSupportingWebFont()?this.load_(b,a):b.dispatchInactive()},webfont.WebFont.prototype.isModuleSupportingUserAgent_=function(a,b,c,d){var e=a.getFontWatchRunnerCtor?a.getFontWatchRunnerCtor():webfont.FontWatchRunner;if(!d){var f=0==--this.moduleLoading_;return this.moduleFailedLoading_--,f&&(0==this.moduleFailedLoading_?b.dispatchInactive():b.dispatchLoading()),void c.watch([],{},{},e,f)}a.load(webfont.bind(this,this.onModuleReady_,b,c,e))},webfont.WebFont.prototype.onModuleReady_=function(a,b,c,d,e,f){var g=0==--this.moduleLoading_;g&&a.dispatchLoading(),this.asyncCall_(webfont.bind(this,function(a,b,c,d,e,f){a.watch(b,c||{},d||{},e,f)},b,d,e,f,c,g))},webfont.WebFont.prototype.load_=function(a,b){var c=this.fontModuleLoader_.getModules(b),d=this;this.moduleFailedLoading_=this.moduleLoading_=c.length;for(var e=new webfont.FontWatcher(this.domHelper_,a,{getWidth:function(a){return a.offsetWidth}},d.asyncCall_,function(){return(new Date).getTime()}),f=0,g=c.length;g>f;f++){var h=c[f];h.supportUserAgent(this.userAgent_,webfont.bind(this,this.isModuleSupportingUserAgent_,h,a,e))}},webfont.CssClassName=function(a){this.joinChar_=a||webfont.CssClassName.DEFAULT_JOIN_CHAR},webfont.CssClassName.DEFAULT_JOIN_CHAR="-",webfont.CssClassName.prototype.sanitize=function(a){return a.replace(/[\W_]+/g,"").toLowerCase()},webfont.CssClassName.prototype.build=function(){for(var a=[],b=0;b<arguments.length;b++)a.push(this.sanitize(arguments[b]));return a.join(this.joinChar_)},webfont.CssFontFamilyName=function(){this.quote_="'"},webfont.CssFontFamilyName.prototype.quote=function(a){for(var b=[],c=a.split(/,\s*/),d=0;d<c.length;d++){var e=c[d].replace(/['"]/g,"");b.push(-1==e.indexOf(" ")?e:this.quote_+e+this.quote_)}return b.join(",")},webfont.FontVariationDescription=function(){this.properties_=webfont.FontVariationDescription.PROPERTIES,this.values_=webfont.FontVariationDescription.VALUES},webfont.FontVariationDescription.PROPERTIES=["font-style","font-weight"],webfont.FontVariationDescription.VALUES={"font-style":[["n","normal"],["i","italic"],["o","oblique"]],"font-weight":[["1","100"],["2","200"],["3","300"],["4","400"],["5","500"],["6","600"],["7","700"],["8","800"],["9","900"],["4","normal"],["7","bold"]]},webfont.FontVariationDescription.Item=function(a,b,c){this.index_=a,this.property_=b,this.values_=c},webfont.FontVariationDescription.Item.prototype.compact=function(a,b){for(var c=0;c<this.values_.length;c++)if(b==this.values_[c][1])return void(a[this.index_]=this.values_[c][0])},webfont.FontVariationDescription.Item.prototype.expand=function(a,b){for(var c=0;c<this.values_.length;c++)if(b==this.values_[c][0])return void(a[this.index_]=this.property_+":"+this.values_[c][1])},webfont.FontVariationDescription.prototype.compact=function(a){for(var b=["n","4"],c=a.split(";"),d=0,e=c.length;e>d;d++){var f=c[d].replace(/\s+/g,"").split(":");if(2==f.length){var g=f[0],h=f[1],i=this.getItem_(g);i&&i.compact(b,h)}}return b.join("")},webfont.FontVariationDescription.prototype.expand=function(a){if(2!=a.length)return null;for(var b=[null,null],c=0,d=this.properties_.length;d>c;c++){var e=this.properties_[c],f=a.substr(c,1),g=this.values_[e],h=new webfont.FontVariationDescription.Item(c,e,g);h.expand(b,f)}return b[0]&&b[1]?b.join(";")+";":null},webfont.FontVariationDescription.prototype.getItem_=function(a){for(var b=0;b<this.properties_.length;b++)if(a==this.properties_[b]){var c=this.values_[a];return new webfont.FontVariationDescription.Item(b,a,c)}return null};var globalName="WebFont";window[globalName]=function(){var a=new webfont.UserAgentParser(navigator.userAgent,document),b=a.parse(),c=new webfont.DomHelper(document,b),d=function(a,b){setTimeout(a,b)};return new webfont.WebFont(c,new webfont.FontModuleLoader,document.documentElement,d,b)}(),window[globalName].load=window[globalName].load,window[globalName].addModule=window[globalName].addModule,webfont.UserAgent.prototype.getName=webfont.UserAgent.prototype.getName,webfont.UserAgent.prototype.getVersion=webfont.UserAgent.prototype.getVersion,webfont.UserAgent.prototype.getEngine=webfont.UserAgent.prototype.getEngine,webfont.UserAgent.prototype.getEngineVersion=webfont.UserAgent.prototype.getEngineVersion,webfont.UserAgent.prototype.getPlatform=webfont.UserAgent.prototype.getPlatform,webfont.UserAgent.prototype.getPlatformVersion=webfont.UserAgent.prototype.getPlatformVersion,webfont.UserAgent.prototype.getDocumentMode=webfont.UserAgent.prototype.getDocumentMode,webfont.UserAgent.prototype.isSupportingWebFont=webfont.UserAgent.prototype.isSupportingWebFont,webfont.AscenderScript=function(a,b){this.domHelper_=a,this.configuration_=b},webfont.AscenderScript.NAME="ascender",webfont.AscenderScript.VARIATIONS={regular:"n4",bold:"n7",italic:"i4",bolditalic:"i7",r:"n4",b:"n7",i:"i4",bi:"i7"},webfont.AscenderScript.prototype.supportUserAgent=function(a,b){return b(a.isSupportingWebFont())},webfont.AscenderScript.prototype.load=function(a){var b=this.configuration_.key,c="https:"==document.location.protocol?"https:":"http:",d=c+"//webfonts.fontslive.com/css/"+b+".css";this.domHelper_.insertInto("head",this.domHelper_.createCssLink(d));var e=this.parseFamiliesAndVariations(this.configuration_.families);a(e.families,e.variations)},webfont.AscenderScript.prototype.parseFamiliesAndVariations=function(a){var b,c,d;b=[],c={};for(var e=0,f=a.length;f>e;e++)d=this.parseFamilyAndVariations(a[e]),b.push(d.family),c[d.family]=d.variations;return{families:b,variations:c}},webfont.AscenderScript.prototype.parseFamilyAndVariations=function(a){var b,c,d;return d=a.split(":"),b=d[0],c=[],c=d[1]?this.parseVariations(d[1]):["n4"],{family:b,variations:c}},webfont.AscenderScript.prototype.parseVariations=function(a){for(var b=a.split(","),c=[],d=0,e=b.length;e>d;d++){var f=b[d];if(f){var g=webfont.AscenderScript.VARIATIONS[f];c.push(g?g:f)}}return c},window.WebFont.addModule(webfont.AscenderScript.NAME,function(a){var b=new webfont.UserAgentParser(navigator.userAgent,document),c=b.parse(),d=new webfont.DomHelper(document,c);return new webfont.AscenderScript(d,a)}),webfont.LastResortWebKitFontWatchRunner=function(a,b,c,d,e,f,g,h,i){webfont.LastResortWebKitFontWatchRunner.superCtor_.call(this,a,b,c,d,e,f,g,h,i),this.webKitLastResortFontSizes_=this.setUpWebKitLastResortFontSizes_(),this.webKitLastResortSizeChange_=!1},webfont.extendsClass(webfont.FontWatchRunner,webfont.LastResortWebKitFontWatchRunner),webfont.LastResortWebKitFontWatchRunner.METRICS_COMPATIBLE_FONTS={Arimo:!0,Cousine:!0,Tinos:!0},webfont.LastResortWebKitFontWatchRunner.prototype.setUpWebKitLastResortFontSizes_=function(){var a=["Times New Roman","Lucida Sans Unicode","Courier New","Tahoma","Arial","Microsoft Sans Serif","Times","Lucida Console","Sans","Serif","Monospace"],b=a.length,c={},d=this.createHiddenElementWithFont_(a[0],!0);c[this.fontSizer_.getWidth(d)]=!0;for(var e=1;b>e;e++){var f=a[e];this.domHelper_.setStyle(d,this.computeStyleString_(f,this.fontDescription_,!0)),c[this.fontSizer_.getWidth(d)]=!0,"4"!=this.fontDescription_[1]&&(this.domHelper_.setStyle(d,this.computeStyleString_(f,this.fontDescription_[0]+"4",!0)),c[this.fontSizer_.getWidth(d)]=!0)
}return this.domHelper_.removeElement(d),c},webfont.LastResortWebKitFontWatchRunner.prototype.check_=function(){var a=this.fontSizer_.getWidth(this.requestedFontA_),b=this.fontSizer_.getWidth(this.requestedFontB_);!this.webKitLastResortSizeChange_&&a==b&&this.webKitLastResortFontSizes_[a]&&(this.webKitLastResortFontSizes_={},this.webKitLastResortFontSizes_[a]=!0,this.webKitLastResortSizeChange_=!0),this.originalSizeA_==a&&this.originalSizeB_==b||this.webKitLastResortFontSizes_[a]||this.webKitLastResortFontSizes_[b]?this.getTime_()-this.started_>=5e3?this.finish_(this.webKitLastResortFontSizes_[a]&&this.webKitLastResortFontSizes_[b]&&webfont.LastResortWebKitFontWatchRunner.METRICS_COMPATIBLE_FONTS[this.fontFamily_]?this.activeCallback_:this.inactiveCallback_):this.asyncCheck_():this.finish_(this.activeCallback_)},webfont.FontApiUrlBuilder=function(a){if(a)this.apiUrl_=a;else{var b="https:"==window.location.protocol?"https:":"http:";this.apiUrl_=b+webfont.FontApiUrlBuilder.DEFAULT_API_URL}this.fontFamilies_=[],this.subsets_=[]},webfont.FontApiUrlBuilder.DEFAULT_API_URL="//fonts.googleapis.com/css",webfont.FontApiUrlBuilder.prototype.setFontFamilies=function(a){this.parseFontFamilies_(a)},webfont.FontApiUrlBuilder.prototype.parseFontFamilies_=function(a){for(var b=a.length,c=0;b>c;c++){var d=a[c].split(":");3==d.length&&this.subsets_.push(d.pop()),this.fontFamilies_.push(d.join(":"))}},webfont.FontApiUrlBuilder.prototype.webSafe=function(a){return a.replace(/ /g,"+")},webfont.FontApiUrlBuilder.prototype.build=function(){if(0==this.fontFamilies_.length)throw new Error("No fonts to load !");if(-1!=this.apiUrl_.indexOf("kit="))return this.apiUrl_;for(var a=this.fontFamilies_.length,b=[],c=0;a>c;c++)b.push(this.webSafe(this.fontFamilies_[c]));var d=this.apiUrl_+"?family="+b.join("%7C");return this.subsets_.length>0&&(d+="&subset="+this.subsets_.join(",")),d},webfont.FontApiParser=function(a){this.fontFamilies_=a,this.parsedFontFamilies_=[],this.variations_={},this.fontTestStrings_={},this.fvd_=new webfont.FontVariationDescription},webfont.FontApiParser.VARIATIONS={ultralight:"n2",light:"n3",regular:"n4",bold:"n7",italic:"i4",bolditalic:"i7",ul:"n2",l:"n3",r:"n4",b:"n7",i:"i4",bi:"i7"},webfont.FontApiParser.INT_FONTS={latin:webfont.FontWatchRunner.DEFAULT_TEST_STRING,cyrillic:"&#1081;&#1103;&#1046;",greek:"&#945;&#946;&#931;",khmer:"&#x1780;&#x1781;&#x1782;",Hanuman:"&#x1780;&#x1781;&#x1782;"},webfont.FontApiParser.prototype.parse=function(){for(var a=this.fontFamilies_.length,b=0;a>b;b++){var c=this.fontFamilies_[b].split(":"),d=c[0],e=["n4"];if(c.length>=2){var f=this.parseVariations_(c[1]);if(f.length>0&&(e=f),3==c.length){var g=this.parseSubsets_(c[2]);if(g.length>0){var h=webfont.FontApiParser.INT_FONTS[g[0]];h&&(this.fontTestStrings_[d]=h)}}}if(!this.fontTestStrings_[d]){var i=webfont.FontApiParser.INT_FONTS[d];i&&(this.fontTestStrings_[d]=i)}this.parsedFontFamilies_.push(d),this.variations_[d]=e}},webfont.FontApiParser.prototype.generateFontVariationDescription_=function(a){if(!a.match(/^[\w ]+$/))return"";var b=webfont.FontApiParser.VARIATIONS[a];if(b)return b;var c=a.match(/^(\d*)(\w*)$/),d=c[1],e=c[2],f=e?e:"n",g=d?d.substr(0,1):"4",h=this.fvd_.expand([f,g].join(""));return h?this.fvd_.compact(h):null},webfont.FontApiParser.prototype.parseVariations_=function(a){var b=[];if(!a)return b;for(var c=a.split(","),d=c.length,e=0;d>e;e++){var f=c[e],g=this.generateFontVariationDescription_(f);g&&b.push(g)}return b},webfont.FontApiParser.prototype.parseSubsets_=function(a){var b=[];return a?a.split(","):b},webfont.FontApiParser.prototype.getFontFamilies=function(){return this.parsedFontFamilies_},webfont.FontApiParser.prototype.getVariations=function(){return this.variations_},webfont.FontApiParser.prototype.getFontTestStrings=function(){return this.fontTestStrings_},webfont.GoogleFontApi=function(a,b,c){this.userAgent_=a,this.domHelper_=b,this.configuration_=c},webfont.GoogleFontApi.NAME="google",webfont.GoogleFontApi.prototype.supportUserAgent=function(a,b){b(a.isSupportingWebFont())},webfont.GoogleFontApi.prototype.getFontWatchRunnerCtor=function(){return"AppleWebKit"==this.userAgent_.getEngine()?webfont.LastResortWebKitFontWatchRunner:webfont.FontWatchRunner},webfont.GoogleFontApi.prototype.load=function(a){var b=this.domHelper_,c="MSIE"==this.userAgent_.getName()&&1!=this.configuration_.blocking;c?b.whenBodyExists(webfont.bind(this,this.insertLink_,a)):this.insertLink_(a)},webfont.GoogleFontApi.prototype.insertLink_=function(a){var b=this.domHelper_,c=new webfont.FontApiUrlBuilder(this.configuration_.api),d=this.configuration_.families;c.setFontFamilies(d);var e=new webfont.FontApiParser(d);e.parse(),b.insertInto("head",b.createCssLink(c.build())),a(e.getFontFamilies(),e.getVariations(),e.getFontTestStrings())},window.WebFont.addModule(webfont.GoogleFontApi.NAME,function(a){var b=new webfont.UserAgentParser(navigator.userAgent,document),c=b.parse();return new webfont.GoogleFontApi(c,new webfont.DomHelper(document,c),a)}),webfont.CustomCss=function(a,b){this.domHelper_=a,this.configuration_=b},webfont.CustomCss.NAME="custom",webfont.CustomCss.prototype.load=function(a){for(var b=this.configuration_.urls||[],c=this.configuration_.families||[],d=0,e=b.length;e>d;d++){var f=b[d];this.domHelper_.insertInto("head",this.domHelper_.createCssLink(f))}a(c)},webfont.CustomCss.prototype.supportUserAgent=function(a,b){return b(a.isSupportingWebFont())},window.WebFont.addModule(webfont.CustomCss.NAME,function(a){var b=new webfont.UserAgentParser(navigator.userAgent,document),c=b.parse(),d=new webfont.DomHelper(document,c);return new webfont.CustomCss(d,a)}),webfont.FontdeckScript=function(a,b,c){this.global_=a,this.domHelper_=b,this.configuration_=c,this.fontFamilies_=[],this.fontVariations_={},this.fvd_=new webfont.FontVariationDescription},webfont.FontdeckScript.NAME="fontdeck",webfont.FontdeckScript.HOOK="__webfontfontdeckmodule__",webfont.FontdeckScript.API="//f.fontdeck.com/s/css/js/",webfont.FontdeckScript.prototype.getScriptSrc=function(a){var b="https:"==this.global_.location.protocol?"https:":"http:",c=this.configuration_.api||webfont.FontdeckScript.API;return b+c+this.global_.document.location.hostname+"/"+a+".js"},webfont.FontdeckScript.prototype.supportUserAgent=function(a,b){var c=this.configuration_.id,d=this;if(c){this.global_[webfont.FontdeckScript.HOOK]||(this.global_[webfont.FontdeckScript.HOOK]={}),this.global_[webfont.FontdeckScript.HOOK][c]=function(a,c){for(var e=0,f=c.fonts.length;f>e;++e){var g=c.fonts[e];d.fontFamilies_.push(g.name),d.fontVariations_[g.name]=[d.fvd_.compact("font-weight:"+g.weight+";font-style:"+g.style)]}b(a)};var e=this.domHelper_.createScriptSrc(this.getScriptSrc(c));this.domHelper_.insertInto("head",e)}else b(!0)},webfont.FontdeckScript.prototype.load=function(a){a(this.fontFamilies_,this.fontVariations_)},window.WebFont.addModule(webfont.FontdeckScript.NAME,function(a){var b=new webfont.UserAgentParser(navigator.userAgent,document),c=b.parse(),d=new webfont.DomHelper(document,c);return new webfont.FontdeckScript(window,d,a)}),webfont.MonotypeScript=function(a,b,c,d,e){this.global_=a,this.userAgent_=b,this.domHelper_=c,this.doc_=d,this.configuration_=e,this.fontFamilies_=[],this.fontVariations_={}},webfont.MonotypeScript.NAME="monotype",webfont.MonotypeScript.HOOK="__mti_fntLst",webfont.MonotypeScript.SCRIPTID="__MonotypeAPIScript__",webfont.MonotypeScript.prototype.supportUserAgent=function(a,b){var c=this,d=c.configuration_.projectId;if(d){var e=c.domHelper_.createScriptSrc(c.getScriptSrc(d));e.id=webfont.MonotypeScript.SCRIPTID+d,e.onreadystatechange=function(a){("loaded"===e.readyState||"complete"===e.readyState)&&(e.onreadystatechange=null,e.onload(a))},e.onload=function(){if(c.global_[webfont.MonotypeScript.HOOK+d]){var e=c.global_[webfont.MonotypeScript.HOOK+d]();if(e&&e.length){var f;for(f=0;f<e.length;f++)c.fontFamilies_.push(e[f].fontfamily)}}b(a.isSupportingWebFont())},this.domHelper_.insertInto("head",e)}else b(!0)},webfont.MonotypeScript.prototype.getScriptSrc=function(a){var b=this.protocol(),c=(this.configuration_.api||"fast.fonts.com/jsapi").replace(/^.*http(s?):(\/\/)?/,"");return b+"//"+c+"/"+a+".js"},webfont.MonotypeScript.prototype.load=function(a){a(this.fontFamilies_,this.fontVariations_)},webfont.MonotypeScript.prototype.protocol=function(){var a=["http:","https:"],b=a[0];if(this.doc_&&this.doc_.location&&this.doc_.location.protocol){var c=0;for(c=0;c<a.length;c++)if(this.doc_.location.protocol===a[c])return this.doc_.location.protocol}return b},window.WebFont.addModule(webfont.MonotypeScript.NAME,function(a){var b=new webfont.UserAgentParser(navigator.userAgent,document),c=b.parse(),d=new webfont.DomHelper(document,c);return new webfont.MonotypeScript(window,c,d,document,a)}),webfont.TypekitScript=function(a,b,c){this.global_=a,this.domHelper_=b,this.configuration_=c,this.fontFamilies_=[],this.fontVariations_={}},webfont.TypekitScript.NAME="typekit",webfont.TypekitScript.HOOK="__webfonttypekitmodule__",webfont.TypekitScript.prototype.getScriptSrc=function(a){var b="https:"==window.location.protocol?"https:":"http:",c=this.configuration_.api||b+"//use.typekit.com";return c+"/"+a+".js"},webfont.TypekitScript.prototype.supportUserAgent=function(a,b){var c=this.configuration_.id,d=this.configuration_,e=this;if(c){this.global_[webfont.TypekitScript.HOOK]||(this.global_[webfont.TypekitScript.HOOK]={}),this.global_[webfont.TypekitScript.HOOK][c]=function(c){var f=function(a,c,d){e.fontFamilies_=c,e.fontVariations_=d,b(a)};c(a,d,f)};var f=this.domHelper_.createScriptSrc(this.getScriptSrc(c));this.domHelper_.insertInto("head",f)}else b(!0)},webfont.TypekitScript.prototype.load=function(a){a(this.fontFamilies_,this.fontVariations_)},window.WebFont.addModule(webfont.TypekitScript.NAME,function(a){var b=new webfont.UserAgentParser(navigator.userAgent,document),c=b.parse(),d=new webfont.DomHelper(document,c);return new webfont.TypekitScript(window,d,a)}),window.WebFontConfig&&window.WebFont.load(window.WebFontConfig),function(a,b){function c(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function d(){var a=s.elements;return"string"==typeof a?a.split(" "):a}function e(a){var b=r[a[p]];return b||(b={},q++,a[p]=q,r[q]=b),b}function f(a,c,d){return c||(c=b),l?c.createElement(a):(d||(d=e(c)),c=d.cache[a]?d.cache[a].cloneNode():o.test(a)?(d.cache[a]=d.createElem(a)).cloneNode():d.createElem(a),c.canHaveChildren&&!n.test(a)?d.frag.appendChild(c):c)}function g(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?f(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+d().join().replace(/\w+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)}function h(a){a||(a=b);var d=e(a);return!s.shivCSS||k||d.hasCSS||(d.hasCSS=!!c(a,"article,aside,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}")),l||g(a,d),a}function i(a){for(var b,c=a.attributes,d=c.length,e=a.ownerDocument.createElement(u+":"+a.nodeName);d--;)b=c[d],b.specified&&e.setAttribute(b.nodeName,b.nodeValue);return e.style.cssText=a.style.cssText,e}function j(a){function b(){clearTimeout(h._removeSheetTimer),f&&f.removeNode(!0),f=null}var f,g,h=e(a),j=a.namespaces,k=a.parentWindow;return!v||a.printShived?a:("undefined"==typeof j[u]&&j.add(u),k.attachEvent("onbeforeprint",function(){b();var e,h,j;j=a.styleSheets;for(var k=[],l=j.length,m=Array(l);l--;)m[l]=j[l];for(;j=m.pop();)if(!j.disabled&&t.test(j.media)){try{e=j.imports,h=e.length}catch(n){h=0}for(l=0;h>l;l++)m.push(e[l]);try{k.push(j.cssText)}catch(o){}}for(e=k.reverse().join("").split("{"),h=e.length,l=RegExp("(^|[\\s,>+~])("+d().join("|")+")(?=[[\\s,>+~#.:]|$)","gi"),m="$1"+u+"\\:$2";h--;)k=e[h]=e[h].split("}"),k[k.length-1]=k[k.length-1].replace(l,m),e[h]=k.join("}");for(k=e.join("{"),h=a.getElementsByTagName("*"),l=h.length,m=RegExp("^(?:"+d().join("|")+")$","i"),j=[];l--;)e=h[l],m.test(e.nodeName)&&j.push(e.applyElement(i(e)));g=j,f=c(a,k)}),k.attachEvent("onafterprint",function(){for(var a=g,c=a.length;c--;)a[c].removeNode();clearTimeout(h._removeSheetTimer),h._removeSheetTimer=setTimeout(b,500)}),a.printShived=!0,a)}var k,l,m=a.html5||{},n=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,o=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p="_html5shiv",q=0,r={};!function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",k="hidden"in a;var c;if(!(c=1==a.childNodes.length)){b.createElement("a");var d=b.createDocumentFragment();c="undefined"==typeof d.cloneNode||"undefined"==typeof d.createDocumentFragment||"undefined"==typeof d.createElement}l=c}catch(e){l=k=!0}}();var s={elements:m.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video",version:"3.6.2",shivCSS:!1!==m.shivCSS,supportsUnknownElements:l,shivMethods:!1!==m.shivMethods,type:"default",shivDocument:h,createElement:f,createDocumentFragment:function(a,c){if(a||(a=b),l)return a.createDocumentFragment();for(var c=c||e(a),f=c.frag.cloneNode(),g=0,h=d(),i=h.length;i>g;g++)f.createElement(h[g]);return f}};a.html5=s,h(b);var t=/^$|\b(?:all|print)\b/,u="html5shiv",v=!l&&function(){var c=b.documentElement;return!("undefined"==typeof b.namespaces||"undefined"==typeof b.parentWindow||"undefined"==typeof c.applyElement||"undefined"==typeof c.removeNode||"undefined"==typeof a.attachEvent)}();s.type+=" print",s.shivPrint=j,j(b)}(this,document),function(a,b){function c(){var a=p.elements;return"string"==typeof a?a.split(" "):a}function d(a){var b=o[a[m]];return b||(b={},n++,a[m]=n,o[n]=b),b}function e(a,c,e){return c||(c=b),i?c.createElement(a):(e||(e=d(c)),c=e.cache[a]?e.cache[a].cloneNode():l.test(a)?(e.cache[a]=e.createElem(a)).cloneNode():e.createElem(a),c.canHaveChildren&&!k.test(a)?e.frag.appendChild(c):c)}function f(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return p.shivMethods?e(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/\w+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(p,b.frag)}function g(a){a||(a=b);var c=d(a);if(p.shivCSS&&!h&&!c.hasCSS){var e,g=a;e=g.createElement("p"),g=g.getElementsByTagName("head")[0]||g.documentElement,e.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}</style>",e=g.insertBefore(e.lastChild,g.firstChild),c.hasCSS=!!e}return i||f(a,c),a}var h,i,j=a.html5||{},k=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,l=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m="_html5shiv",n=0,o={};!function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",h="hidden"in a;var c;if(!(c=1==a.childNodes.length)){b.createElement("a");var d=b.createDocumentFragment();c="undefined"==typeof d.cloneNode||"undefined"==typeof d.createDocumentFragment||"undefined"==typeof d.createElement}i=c}catch(e){i=h=!0}}();var p={elements:j.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video",version:"3.6.2",shivCSS:!1!==j.shivCSS,supportsUnknownElements:i,shivMethods:!1!==j.shivMethods,type:"default",shivDocument:g,createElement:e,createDocumentFragment:function(a,e){if(a||(a=b),i)return a.createDocumentFragment();for(var e=e||d(a),f=e.frag.cloneNode(),g=0,h=c(),j=h.length;j>g;g++)f.createElement(h[g]);return f}};a.html5=p,g(b)}(this,document);var swfobject=function(){function a(){if(!R){try{var a=K.getElementsByTagName("body")[0].appendChild(q("span"));a.parentNode.removeChild(a)}catch(b){return}R=!0;for(var c=N.length,d=0;c>d;d++)N[d]()}}function b(a){R?a():N[N.length]=a}function c(a){if(typeof J.addEventListener!=C)J.addEventListener("load",a,!1);else if(typeof K.addEventListener!=C)K.addEventListener("load",a,!1);else if(typeof J.attachEvent!=C)r(J,"onload",a);else if("function"==typeof J.onload){var b=J.onload;J.onload=function(){b(),a()}}else J.onload=a}function d(){M?e():f()}function e(){var a=K.getElementsByTagName("body")[0],b=q(D);b.setAttribute("type",G);var c=a.appendChild(b);if(c){var d=0;!function(){if(typeof c.GetVariable!=C){var e=c.GetVariable("$version");e&&(e=e.split(" ")[1].split(","),U.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}else if(10>d)return d++,void setTimeout(arguments.callee,10);a.removeChild(b),c=null,f()}()}else f()}function f(){var a=O.length;if(a>0)for(var b=0;a>b;b++){var c=O[b].id,d=O[b].callbackFn,e={success:!1,id:c};if(U.pv[0]>0){var f=p(c);if(f)if(!s(O[b].swfVersion)||U.wk&&U.wk<312)if(O[b].expressInstall&&h()){var k={};k.data=O[b].expressInstall,k.width=f.getAttribute("width")||"0",k.height=f.getAttribute("height")||"0",f.getAttribute("class")&&(k.styleclass=f.getAttribute("class")),f.getAttribute("align")&&(k.align=f.getAttribute("align"));for(var l={},m=f.getElementsByTagName("param"),n=m.length,o=0;n>o;o++)"movie"!=m[o].getAttribute("name").toLowerCase()&&(l[m[o].getAttribute("name")]=m[o].getAttribute("value"));i(k,l,c,d)}else j(f),d&&d(e);else u(c,!0),d&&(e.success=!0,e.ref=g(c),d(e))}else if(u(c,!0),d){var q=g(c);q&&typeof q.SetVariable!=C&&(e.success=!0,e.ref=q),d(e)}}}function g(a){var b=null,c=p(a);if(c&&"OBJECT"==c.nodeName)if(typeof c.SetVariable!=C)b=c;else{var d=c.getElementsByTagName(D)[0];d&&(b=d)}return b}function h(){return!S&&s("6.0.65")&&(U.win||U.mac)&&!(U.wk&&U.wk<312)}function i(a,b,c,d){S=!0,y=d||null,z={success:!1,id:c};var e=p(c);if(e){"OBJECT"==e.nodeName?(w=k(e),x=null):(w=e,x=c),a.id=H,(typeof a.width==C||!/%$/.test(a.width)&&parseInt(a.width,10)<310)&&(a.width="310"),(typeof a.height==C||!/%$/.test(a.height)&&parseInt(a.height,10)<137)&&(a.height="137"),K.title=K.title.slice(0,47)+" - Flash Player Installation";var f=U.ie&&U.win?"ActiveX":"PlugIn",g="MMredirectURL="+J.location.toString().replace(/&/g,"%26")+"&MMplayerType="+f+"&MMdoctitle="+K.title;if(typeof b.flashvars!=C?b.flashvars+="&"+g:b.flashvars=g,U.ie&&U.win&&4!=e.readyState){var h=q("div");c+="SWFObjectNew",h.setAttribute("id",c),e.parentNode.insertBefore(h,e),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}l(a,b,c)}}function j(a){if(U.ie&&U.win&&4!=a.readyState){var b=q("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(k(a),b),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(k(a),a)}function k(a){var b=q("div");if(U.win&&U.ie)b.innerHTML=a.innerHTML;else{var c=a.getElementsByTagName(D)[0];if(c){var d=c.childNodes;if(d)for(var e=d.length,f=0;e>f;f++)1==d[f].nodeType&&"PARAM"==d[f].nodeName||8==d[f].nodeType||b.appendChild(d[f].cloneNode(!0))}}return b}function l(a,b,c){var d,e=p(c);if(U.wk&&U.wk<312)return d;if(e)if(typeof a.id==C&&(a.id=c),U.ie&&U.win){var f="";for(var g in a)a[g]!=Object.prototype[g]&&("data"==g.toLowerCase()?b.movie=a[g]:"styleclass"==g.toLowerCase()?f+=' class="'+a[g]+'"':"classid"!=g.toLowerCase()&&(f+=" "+g+'="'+a[g]+'"'));var h="";for(var i in b)b[i]!=Object.prototype[i]&&(h+='<param name="'+i+'" value="'+b[i]+'" />');e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>",P[P.length]=a.id,d=p(a.id)}else{var j=q(D);j.setAttribute("type",G);for(var k in a)a[k]!=Object.prototype[k]&&("styleclass"==k.toLowerCase()?j.setAttribute("class",a[k]):"classid"!=k.toLowerCase()&&j.setAttribute(k,a[k]));for(var l in b)b[l]!=Object.prototype[l]&&"movie"!=l.toLowerCase()&&m(j,l,b[l]);e.parentNode.replaceChild(j,e),d=j}return d}function m(a,b,c){var d=q("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function n(a){var b=p(a);b&&"OBJECT"==b.nodeName&&(U.ie&&U.win?(b.style.display="none",function(){4==b.readyState?o(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function o(a){var b=p(a);if(b){for(var c in b)"function"==typeof b[c]&&(b[c]=null);b.parentNode.removeChild(b)}}function p(a){var b=null;try{b=K.getElementById(a)}catch(c){}return b}function q(a){return K.createElement(a)}function r(a,b,c){a.attachEvent(b,c),Q[Q.length]=[a,b,c]}function s(a){var b=U.pv,c=a.split(".");return c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]?!0:!1}function t(a,b,c,d){if(!U.ie||!U.mac){var e=K.getElementsByTagName("head")[0];if(e){var f=c&&"string"==typeof c?c:"screen";if(d&&(A=null,B=null),!A||B!=f){var g=q("style");g.setAttribute("type","text/css"),g.setAttribute("media",f),A=e.appendChild(g),U.ie&&U.win&&typeof K.styleSheets!=C&&K.styleSheets.length>0&&(A=K.styleSheets[K.styleSheets.length-1]),B=f}U.ie&&U.win?A&&typeof A.addRule==D&&A.addRule(a,b):A&&typeof K.createTextNode!=C&&A.appendChild(K.createTextNode(a+" {"+b+"}"))}}}function u(a,b){if(T){var c=b?"visible":"hidden";R&&p(a)?p(a).style.visibility=c:t("#"+a,"visibility:"+c)}}function v(a){var b=/[\\\"<>\.;]/,c=null!=b.exec(a);return c&&typeof encodeURIComponent!=C?encodeURIComponent(a):a}{var w,x,y,z,A,B,C="undefined",D="object",E="Shockwave Flash",F="ShockwaveFlash.ShockwaveFlash",G="application/x-shockwave-flash",H="SWFObjectExprInst",I="onreadystatechange",J=window,K=document,L=navigator,M=!1,N=[d],O=[],P=[],Q=[],R=!1,S=!1,T=!0,U=function(){var a=typeof K.getElementById!=C&&typeof K.getElementsByTagName!=C&&typeof K.createElement!=C,b=L.userAgent.toLowerCase(),c=L.platform.toLowerCase(),d=/win/.test(c?c:b),e=/mac/.test(c?c:b),f=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,g=!1,h=[0,0,0],i=null;if(typeof L.plugins!=C&&typeof L.plugins[E]==D)i=L.plugins[E].description,!i||typeof L.mimeTypes!=C&&L.mimeTypes[G]&&!L.mimeTypes[G].enabledPlugin||(M=!0,g=!1,i=i.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),h[0]=parseInt(i.replace(/^(.*)\..*$/,"$1"),10),h[1]=parseInt(i.replace(/^.*\.(.*)\s.*$/,"$1"),10),h[2]=/[a-zA-Z]/.test(i)?parseInt(i.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof J.ActiveXObject!=C)try{var j=new ActiveXObject(F);j&&(i=j.GetVariable("$version"),i&&(g=!0,i=i.split(" ")[1].split(","),h=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)]))}catch(k){}return{w3:a,pv:h,wk:f,ie:g,win:d,mac:e}}();!function(){U.w3&&((typeof K.readyState!=C&&"complete"==K.readyState||typeof K.readyState==C&&(K.getElementsByTagName("body")[0]||K.body))&&a(),R||(typeof K.addEventListener!=C&&K.addEventListener("DOMContentLoaded",a,!1),U.ie&&U.win&&(K.attachEvent(I,function(){"complete"==K.readyState&&(K.detachEvent(I,arguments.callee),a())}),J==top&&!function(){if(!R){try{K.documentElement.doScroll("left")}catch(b){return void setTimeout(arguments.callee,0)}a()}}()),U.wk&&!function(){return R?void 0:/loaded|complete/.test(K.readyState)?void a():void setTimeout(arguments.callee,0)}(),c(a)))}(),function(){U.ie&&U.win&&window.attachEvent("onunload",function(){for(var a=Q.length,b=0;a>b;b++)Q[b][0].detachEvent(Q[b][1],Q[b][2]);for(var c=P.length,d=0;c>d;d++)n(P[d]);for(var e in U)U[e]=null;U=null;for(var f in swfobject)swfobject[f]=null;swfobject=null})}()}return{registerObject:function(a,b,c,d){if(U.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,O[O.length]=e,u(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){return U.w3?g(a):void 0},embedSWF:function(a,c,d,e,f,g,j,k,m,n){var o={success:!1,id:c};U.w3&&!(U.wk&&U.wk<312)&&a&&c&&d&&e&&f?(u(c,!1),b(function(){d+="",e+="";var b={};if(m&&typeof m===D)for(var p in m)b[p]=m[p];b.data=a,b.width=d,b.height=e;var q={};if(k&&typeof k===D)for(var r in k)q[r]=k[r];if(j&&typeof j===D)for(var t in j)typeof q.flashvars!=C?q.flashvars+="&"+t+"="+j[t]:q.flashvars=t+"="+j[t];if(s(f)){var v=l(b,q,c);b.id==c&&u(c,!0),o.success=!0,o.ref=v}else{if(g&&h())return b.data=g,void i(b,q,c,n);u(c,!0)}n&&n(o)})):n&&n(o)},switchOffAutoHideShow:function(){T=!1},ua:U,getFlashPlayerVersion:function(){return{major:U.pv[0],minor:U.pv[1],release:U.pv[2]}},hasFlashPlayerVersion:s,createSWF:function(a,b,c){return U.w3?l(a,b,c):void 0},showExpressInstall:function(a,b,c,d){U.w3&&h()&&i(a,b,c,d)},removeSWF:function(a){U.w3&&n(a)},createCSS:function(a,b,c,d){U.w3&&t(a,b,c,d)},addDomLoadEvent:b,addLoadEvent:c,getQueryParamValue:function(a){var b=K.location.search||K.location.hash;if(b){if(/\?/.test(b)&&(b=b.split("?")[1]),null==a)return v(b);for(var c=b.split("&"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return v(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(S){var a=p(H);a&&w&&(a.parentNode.replaceChild(w,a),x&&(u(x,!0),U.ie&&U.win&&(w.style.display="block")),y&&y(z)),S=!1}}}}();window.NOMENSA=window.NOMENSA||{},window.NOMENSA.player=window.NOMENSA.player||{},window.NOMENSA.player.YoutubePlayer=function(a){this.config=a,this.config.playerVars={controls:0,showinfo:0,origin:window.location.protocol+"//"+window.location.hostname,rel:0}},window.NOMENSA.player.YoutubePlayer.apiLoaded=!1,window.NOMENSA.player.YoutubePlayer.prototype={getYTOptions:function(){var a=this,b={height:this.config.flashHeight,width:this.config.flashWidth,videoId:this.config.media,events:{onReady:function(b){a.$html.find("iframe").attr({id:a.config.id,role:"presentation"}),a.onPlayerReady(b)},onStateChange:function(b){a.onPlayerStateChange(b.data)}}};return b.playerVars=this.config.playerVars,this.config.repeat&&(b.playerVars.playlist=this.config.media),b},init:function(){return"undefined"!=typeof window.postMessage?function(a){var b=document.createElement("script"),c=document.getElementsByTagName("script")[0];this.$html=this.assembleHTML(),this.config.captions&&this.getCaptions(),a.html(this.$html),window.NOMENSA.player.PlayerDaemon.addPlayer(this),window.NOMENSA.player.YoutubePlayer.apiLoaded?this.player=YT.Player("player-"+player.config.id,getOptions(player)):"undefined"==typeof window.onYouTubeIframeAPIReady&&(window.onYouTubeIframeAPIReady=function(){window.NOMENSA.player.PlayerDaemon.map(function(a){"undefined"!=typeof a.getYTOptions&&(a.player=new YT.Player("player-"+a.config.id,a.getYTOptions()))}),window.NOMENSA.player.YoutubePlayer.apiLoaded=!0},b.src="//www.youtube.com/iframe_api",c.parentNode.insertBefore(b,c))}:function(a){var b=this;this.$html=this.assembleHTML(),this.config.captions&&this.getCaptions(),a.html(this.$html),window.NOMENSA.player.PlayerDaemon.addPlayer(this),window.NOMENSA.player.stateHandlers[this.config.id]=function(a){var c=window.NOMENSA.player.PlayerDaemon.getPlayer(b.config.id);c.onPlayerStateChange(a)},window.onYouTubePlayerReady=function(a){var c=window.NOMENSA.player.PlayerDaemon.getPlayer(a),d=document.getElementById(c.config.id);c.player=d,c.cue(),c.getPlayer().addEventListener("onStateChange","window.NOMENSA.player.stateHandlers."+b.config.id),c.onPlayerReady()}}}(),state:{ended:0,playing:1,paused:2,unstarted:-1},onPlayerReady:function(){var a,b=[];return function(c){var d=b.length;if("function"==typeof c)b.push(c);else{if(0===d)return!1;for(a=0;d>a;a++)b[a].apply(this,arguments)}}}(),onPlayerStateChange:function(a){1==a?(this.play(),this.config.buttons.toggle&&this.$html.find(".play").removeClass("play").addClass("pause").text("Pause")):this.config.repeat&&0==a&&this.play()},getFlashVars:function(){var a={controlbar:"none",file:this.config.media};return""!=this.config.image&&(a.image=this.config.image),this.config.repeat&&(a.repeat=this.config.repeat),a},getFlashParams:function(){return{allowScriptAccess:"always",wmode:"transparent"}},generateFlashPlayer:function(a){var b=this,c=this.getFlashVars(),d=this.getFlashParams(),e={id:this.config.id,name:this.config.id},f=$("<"+this.config.flashContainer+" />").attr("id","player-"+this.config.id).addClass("flashReplace").html('This content requires Macromedia Flash Player. You can <a href="http://get.adobe.com/flashplayer/">install or upgrade the Adobe Flash Player here</a>.'),g=$("<span />").addClass("video"),h=this.getURL();return setTimeout(function(){swfobject.embedSWF(h,f.attr("id"),b.config.flashWidth,b.config.flashHeight,"9.0.115",null,c,d,e,b.config.swfCallback),$.browser.mozilla&&parseInt($.browser.version,10)>=2&&b.$html.find("object").attr("tabindex","-1")},0),a.append(g.append(f)),a},generateVideoPlayer:function(a){if("undefined"==typeof window.postMessage)return this.generateFlashPlayer(a);var b=$("<"+this.config.flashContainer+" />").attr("id","player-"+this.config.id),c=$("<span />").addClass("video");return a.append(c.append(b)),a},getPlayer:function(){return this.player},is_html5:!1,play:function(){this.player.playVideo(),this.setSliderTimeout(),this.config.captionsOn&&this.captions&&this.setCaptionTimeout()},pause:function(){this.player.pauseVideo(),this.clearSliderTimeout(),this.config.captionsOn&&this.captions&&this.clearCaptionTimeout()},ffwd:function(){var a=this.getCurrentTime()+this.config.playerSkip,b=this.getDuration();a>b&&(a=b),this.seek(a)},rewd:function(){var a=this.getCurrentTime()-this.config.playerSkip;0>a&&(a=0),this.seek(a)},mute:function(){var a=this.$html.find("button.mute");this.player.isMuted()?(this.player.unMute(),a.hasClass("muted")&&a.removeClass("muted")):(this.player.mute(),a.addClass("muted"))},volup:function(){var a=this.player.getVolume();a>=100?a=100:a+=this.config.volumeStep,this.player.setVolume(a),this.updateVolume(a)},voldwn:function(){var a=this.player.getVolume();0>=a?a=0:a-=this.config.volumeStep,this.player.setVolume(a),this.updateVolume(a)},getDuration:function(){return this.player.getDuration()},getCurrentTime:function(){return this.player.getCurrentTime()},getBytesLoaded:function(){return this.player.getVideoBytesLoaded()},getBytesTotal:function(){return this.player.getVideoBytesTotal()},seek:function(a){this.player.seekTo(a,!0),this.config.captionsOn&&this.captions&&(this.$html.find(".caption").remove(),this.clearCaptionTimeout(),this.setCaptionTimeout(),this.getPreviousCaption())},cue:function(){this.player.cueVideoById(this.config.media)},toggleCaptions:function(){var a=this,b=this.$html.find(".captions");b.hasClass("captions-off")?(b.removeClass("captions-off").addClass("captions-on"),a.getPreviousCaption(),a.setCaptionTimeout(),a.config.captionsOn=!0):(b.removeClass("captions-on").addClass("captions-off"),a.clearCaptionTimeout(),a.$html.find(".caption").remove(),a.config.captionsOn=!1)}},window.NOMENSA=window.NOMENSA||{},window.NOMENSA.player=window.NOMENSA.player||{},window.NOMENSA.player.MediaplayerDecorator=function(a){var b=a;this.config=b.config,this.player=b.player,this.state=b.state;for(var c in b)"function"==typeof b[c]&&(this[c]=function(a){return function(){return b[a].apply(this,arguments)}}(c))},window.NOMENSA.player.MediaplayerDecorator.prototype.generatePlayerContainer=function(){var a=$("<"+this.config.playerContainer+" />").css(this.config.playerStyles).addClass("player-container");return $.browser.msie&&a.addClass("player-container-ie player-container-ie-"+$.browser.version.substring(0,1)),a},window.NOMENSA.player.MediaplayerDecorator.prototype.assembleHTML=function(){var a=this.generatePlayerContainer(),b=this.generateVideoPlayer(a),c=b.append(this.getControls());return c},window.NOMENSA.player.MediaplayerDecorator.prototype.getURL=function(){return[this.config.url,this.config.id].join("")},window.NOMENSA.player.MediaplayerDecorator.prototype.createButton=function(a,b){var c=[a,this.config.id].join("-"),d=$("<button />").append(b).addClass(a).attr({title:a,id:c}).addClass("ui-corner-all ui-state-default").hover(function(){$(this).addClass("ui-state-hover")
},function(){$(this).removeClass("ui-state-hover")}).focus(function(){$(this).addClass("ui-state-focus")}).blur(function(){$(this).removeClass("ui-state-focus")}).click(function(a){a.preventDefault()});return d},window.NOMENSA.player.MediaplayerDecorator.prototype.getFuncControls=function(){var a=this,b=$("<div>");b[0].className="player-controls";var c=[];if(a.config.buttons.toggle){var d=a.createButton("play","Play").attr({"aria-live":"assertive"}).click(function(){$(this).hasClass("play")?($(this).removeClass("play").addClass("pause").attr({title:"Pause",id:"pause-"+a.config.id}).text("Pause"),a.play()):($(this).removeClass("pause").addClass("play").attr({title:"Play",id:"play-"+a.config.id}).text("Play"),a.pause())});c.push(d)}else{var e=a.createButton("play","Play").click(function(){a.play()}),f=a.createButton("pause","Pause").click(function(){a.pause()});c.push(e),c.push(f)}if(a.config.buttons.rewind){var g=a.createButton("rewind","Rewind").click(function(){a.rewd()});c.push(g)}if(a.config.buttons.forward){var h=a.createButton("forward","Forward").click(function(){a.ffwd()});c.push(h)}if(a.config.captions){var i=a.createButton("captions","Captions").click(function(){a.toggleCaptions()}),j=1==a.config.captionsOn?"captions-on":"captions-off";i.addClass(j),c.push(i)}for(var k=0;k<c.length;k+=1)b[0].appendChild(c[k][0]);return b},window.NOMENSA.player.MediaplayerDecorator.prototype.getVolControls=function(){for(var a=this,b=$("<div>").addClass("volume-controls"),c=a.createButton("mute","Mute").click(function(){a.mute()}),d=a.createButton("vol-up",'+<span class="ui-helper-hidden-accessible"> Volume Up</span>').click(function(){a.volup()}),e=a.createButton("vol-down",'-<span class="ui-helper-hidden-accessible"> Volume Down</span>').click(function(){a.voldwn()}),f=$("<span />").attr({id:"vol-"+a.config.id,"class":"vol-display"}).text("100%"),g=[c,e,d,f],h=0;h<g.length;h+=1)b[0].appendChild(g[h][0]);return b},window.NOMENSA.player.MediaplayerDecorator.prototype.getSliderBar=function(){for(var a=$("<span />").addClass("ui-helper-hidden-accessible").html("<p>The timeline slider below uses WAI ARIA. Please use the documentation for your screen reader to find out more.</p>"),b=$("<span />").addClass("current-time").attr({id:"current-"+this.config.id}).text("00:00:00"),c=this.getSlider(),d=$("<span />").addClass("duration-time").attr({id:"duration-"+this.config.id}).text("00:00:00"),e=$("<div />").addClass("timer-bar").append(a),f=[b,c,d],g=0;g<f.length;g+=1)e[0].appendChild(f[g][0]);return e},window.NOMENSA.player.MediaplayerDecorator.prototype.getSlider=function(){var a=this,b=$("<span />").attr("id","slider-"+this.config.id).slider({orientation:"horizontal",change:function(b,c){var d=c.value,e=d/100*a.getDuration();a.seek(e)}});b.find("a.ui-slider-handle").attr({role:"slider","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"0","aria-valuetext":"0 percent",title:"Slider Control"});var c=$("<span />").addClass("progress-bar").attr({id:"progress-bar-"+this.config.id,tabindex:"-1"}).addClass("ui-progressbar-value ui-widget-header ui-corner-left").css({width:"0%",height:"95%"}),d=$("<span />").attr({id:"loaded-bar-"+this.config.id,tabindex:"-1"}).addClass("loaded-bar ui-progressbar-value ui-widget-header ui-corner-left").css({height:"95%",width:"0%"});return b.append(c,d)},window.NOMENSA.player.MediaplayerDecorator.prototype.setSliderTimeout=function(){var a=this;void 0==a.sliderInterval&&(a.sliderInterval=setInterval(function(){a.updateSlider()},a.config.sliderTimeout))},window.NOMENSA.player.MediaplayerDecorator.prototype.clearSliderTimeout=function(){var a=this;void 0!=a.sliderInterval&&(a.sliderInterval=clearInterval(a.sliderInterval))},window.NOMENSA.player.MediaplayerDecorator.prototype.updateSlider=function(){var a="undefined"!=typeof this.duration?this.duration:this.getDuration(),b="boolean"==typeof this.duration_found?this.duration_found:!1,c=this.getCurrentTime(),d=0;a>0?(d=c/a*100,d=parseInt(d,10)):a=0,b||($("#duration-"+this.config.id).html(this.formatTime(parseInt(a,10))),this.duration_found=!0),$("#slider-"+this.config.id).find("a.ui-slider-handle").attr({"aria-valuenow":d,"aria-valuetext":d.toString()+" percent"}).css("left",d.toString()+"%"),$("#progress-bar-"+this.config.id).attr({"aria-valuenow":d,"aria-valuetext":d.toString()+" percent"}).css("width",d.toString()+"%"),this.updateLoaderBar(),this.updateTime(c)},window.NOMENSA.player.MediaplayerDecorator.prototype.updateLoaderBar=function(){var a=this.getBytesLoaded()/this.getBytesTotal()*100;a=parseInt(a,10),isFinite(a)||(a=0),$("#loaded-bar-"+this.config.id).attr({"aria-valuetext":a.toString()+" percent","aria-valuenow":a}).css("width",a.toString()+"%")},window.NOMENSA.player.MediaplayerDecorator.prototype.formatTime=function(a){var b=0,c=0,d=0;a>=60?(c=parseInt(a/60,10),d=a-60*c,c>=60&&(b=parseInt(c/60,10),c-=parseInt(60*b,10))):d=a;for(var e=[b,c,d],f=0;f<e.length;f+=1)e[f]=e[f]<10?"0"+e[f].toString():e[f].toString();return e.join(":")},window.NOMENSA.player.MediaplayerDecorator.prototype.updateTime=function(a){var b=this.formatTime(parseInt(a,10));this.$html.find("#current-"+this.config.id).html(b)},window.NOMENSA.player.MediaplayerDecorator.prototype.getControls=function(){var a=$("<span />").addClass("ui-corner-bottom").addClass("control-bar"),b=$("<a />").attr("href","http://www.nomensa.com?ref=logo").html("Accessible Media Player by Nomensa").addClass("logo");a.append(b);for(var c=this.getFuncControls(),d=this.getVolControls(),e=this.getSliderBar(),f=[c,d,e],g=0;g<f.length;g+=1)a[0].appendChild(f[g][0]);return a},window.NOMENSA.player.MediaplayerDecorator.prototype.updateVolume=function(a){$("#vol-"+this.config.id).text(a.toString()+"%");var b=this.$html.find("button.mute");0==a?b.addClass("muted"):b.hasClass("muted")&&b.removeClass("muted")},window.NOMENSA.player.MediaplayerDecorator.prototype.getCaptions=function(){var a=this;if(a.config.captions){$.ajax({url:a.config.captions,success:function(b){$(b).find("p").length>0&&(a.captions=$(b).find("p"))}})}},window.NOMENSA.player.MediaplayerDecorator.prototype.toggleCaptions=function(){var a=this,b=this.$html.find(".captions");b.hasClass("captions-off")?(b.removeClass("captions-off").addClass("captions-on"),a.getPreviousCaption(),a.setCaptionTimeout(),a.config.captionsOn=!0):(b.removeClass("captions-on").addClass("captions-off"),a.clearCaptionTimeout(),a.$html.find(".caption").remove(),a.config.captionsOn=!1)},window.NOMENSA.player.MediaplayerDecorator.prototype.syncCaptions=function(){var a;if(this.captions){var b=this.getCurrentTime();b=this.formatTime(parseInt(b,10)),a=this.captions.filter('[begin="'+b+'"]'),1==a.length&&this.insertCaption(a)}},window.NOMENSA.player.MediaplayerDecorator.prototype.insertCaption=function(a){if(1==this.$html.find(".caption").length)this.$html.find(".caption").text(a.text());else{var b=$("<div>").text(a.text());b[0].className="caption",this.$html.find(".video").prepend(b)}},window.NOMENSA.player.MediaplayerDecorator.prototype.getPreviousCaption=function(a){var b;void 0==a&&(a=this.getCurrentTime());var c=this.formatTime(parseInt(a,10));if(this.captions){for(b=this.captions.filter('[begin="'+c+'"]');1!=b.length&&a>0;)a--,c=this.formatTime(parseInt(a,10)),b=this.captions.filter('[begin="'+c+'"]');1==b.length&&this.insertCaption(b)}},window.NOMENSA.player.MediaplayerDecorator.prototype.destroyPlayerInstance=function(){return!1},window.NOMENSA.player.MediaplayerDecorator.prototype.destroy=function(){this.clearSliderTimeout(),this.clearCaptionTimeout(),this.destroyPlayerInstance(),this.$html.remove()},window.NOMENSA.player.MediaplayerDecorator.prototype.setCaptionTimeout=function(){var a=this;void 0==a.captionInterval&&(a.captionInterval=setInterval(function(){a.syncCaptions()},500))},window.NOMENSA.player.MediaplayerDecorator.prototype.clearCaptionTimeout=function(){void 0!=this.captionInterval&&(this.captionInterval=clearInterval(this.captionInterval))},window.NOMENSA=window.NOMENSA||{},window.NOMENSA.player=window.NOMENSA.player||{},jQuery(function(a){a(window).resize(function(){a(".player-container").each(function(){a(this).width()>580?a(this).addClass("player-wide"):a(this).removeClass("player-wide")})})}),"undefined"==typeof window.postMessage&&(window.NOMENSA.player.stateHandlers={}),window.NOMENSA.player.PlayerManager=function(){var a={};this.getPlayer=function(b){return void 0!=a[b]?a[b]:null},this.addPlayer=function(b){return a[b.config.id]=b,!0},this.removePlayer=function(b){void 0!=a[b]&&(a[b].destroy(),delete a[b])},this.map=function(b){var c;for(c in a)b(a[c])}},window.NOMENSA.player.PlayerDaemon=new window.NOMENSA.player.PlayerManager;var html5_methods={play:function(){this.player.play(),this.setSliderTimeout(),this.config.captionsOn&&this.captions&&this.setCaptionTimeout()},pause:function(){this.player.pause(),this.clearSliderTimeout(),this.config.captionsOn&&this.captions&&this.clearCaptionTimeout()},ffwd:function(){var a=this.getCurrentTime()+this.config.playerSkip;this.seek(a)},rewd:function(){var a=this.getCurrentTime()-this.config.playerSkip;0>a&&(a=0),this.seek(a)},mute:function(){var a=this.$html.find("button.mute");this.player.muted?(this.player.muted=!1,a.hasClass("muted")&&a.removeClass("muted")):(this.player.muted=!0,a.addClass("muted"))},volup:function(){var a=100*this.player.volume;a<100-this.config.volumeStep?a+=this.config.volumeStep:a=100,this.player.volume=a/100,this.updateVolume(Math.round(a))},voldwn:function(){var a=100*this.player.volume;a>this.config.volumeStep?a-=this.config.volumeStep:a=0,this.player.volume=a/100,this.updateVolume(Math.round(a))},getDuration:function(){return this.player.duration},getCurrentTime:function(){return this.player.currentTime},getBytesLoaded:function(){return this.player.buffered.end(0)},getBytesTotal:function(){return this.player.duration},seek:function(a){this.player.currentTime=a},cue:function(){}};!function(a){a.fn.player=function(b,c){function d(){this.config=f,a.extend(!0,this,k,c),this.is_html5=!1;var b=i(this);b&&g(b.mimetype,b.container)&&this.config.useHtml5?(this.is_html5=!0,this.$html=this.assembleHTML5(b.container,b.mimetype),a.extend(this,html5_methods)):this.$html=this.assembleHTML(),this.config.captions&&this.getCaptions()}var e={id:"media_player",url:window.location.protocol+"//www.youtube.com/apiplayer?enablejsapi=1&version=3&playerapiid=",media:"8LiQ-bLJaM4",repeat:!1,captions:null,captionsOn:!0,flashWidth:"100%",flashHeight:"300px",playerStyles:{height:"100%",width:"100%"},sliderTimeout:350,flashContainer:"span",playerContainer:"span",image:"",playerSkip:10,volumeStep:10,buttons:{forward:!0,rewind:!0,toggle:!0},logoURL:"http://www.nomensa.com?ref=logo",useHtml5:!0,swfCallback:null},f=a.extend(!0,{},e,b),g=function(a,b){var c=document.createElement(b);if(void 0!=c.canPlayType){var d=c.canPlayType(a);if("maybe"==d.toLowerCase()||"probably"==d.toLowerCase())return!0}return!1},h=function(a){var b="",c="video";switch(a){case"mp4":b='video/mp4; codecs="avc1.42E01E, mp4a.40.2"';break;case"m4v":b='video/mp4; codecs="avc1.42E01E, mp4a.40.2"';break;case"ogg":b='video/ogg; codecs="theora, vorbis"';break;case"ogv":b='video/ogg; codecs="theora, vorbis"';break;case"webm":b='video/webm; codecs="vp8, vorbis"';break;case"mp3":b="audio/mpeg",c="audio"}return{mimetype:b,container:c}},i=function(a){var b=a.config.media,c=b.lastIndexOf(".");if(-1!=c){var d=b.substring(c+1),e=h(d);return e}return null},j=function(){return a.browser.mozilla?parseInt(a.browser.version,10)>=2?!0:!1:!1},k={generatePlayerContainer:function(){var b=a("<"+this.config.playerContainer+" />").css(this.config.playerStyles).addClass("player-container");return a.browser.msie&&b.addClass("player-container-ie player-container-ie-"+a.browser.version.substring(0,1)),b},getFlashVars:function(){var a={controlbar:"none",file:this.config.media};return""!=this.config.image&&(a.image=this.config.image),this.config.repeat&&(a.repeat=this.config.repeat),a},getFlashParams:function(){return{allowScriptAccess:"always",wmode:"transparent"}},getURL:function(){return[this.config.url,this.config.id].join("")},generateFlashPlayer:function(b){var c=this,d=this.getFlashVars(),e=this.getFlashParams(),f={id:this.config.id,name:this.config.id},g=a("<"+this.config.flashContainer+" />").attr("id","player-"+this.config.id).addClass("flashReplace").html('This content requires Macromedia Flash Player. You can <a href="http://get.adobe.com/flashplayer/">install or upgrade the Adobe Flash Player here</a>.'),h=a("<span />").addClass("video"),i=this.getURL();return setTimeout(function(){swfobject.embedSWF(i,g.attr("id"),c.config.flashWidth,c.config.flashHeight,"9.0.115",null,d,e,f,c.config.swfCallback),j()&&c.$html.find("object").attr("tabindex","-1")},0),b.append(h.append(g)),b},generateHTML5Player:function(b,c,d){var e=a("<span />");e[0].className="video";var f=a("<"+c+" />").attr({id:this.config.id,src:this.config.media,type:d}).css({width:"100%",height:"50%"});return""!=a.trim(this.config.image)&&f.attr({poster:a.trim(this.config.image)}),b.append(e.append(f))},createButton:function(b,c){var d=[b,this.config.id].join("-"),e=a("<button />").append(c).addClass(b).attr({title:b,id:d}).addClass("ui-corner-all ui-state-default").hover(function(){a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){a(this).addClass("ui-state-focus")}).blur(function(){a(this).removeClass("ui-state-focus")}).click(function(a){a.preventDefault()});return e},getFuncControls:function(){var b=this,c=a("<div>");c[0].className="player-controls";var d=[];if(b.config.buttons.toggle){var e=b.createButton("play","Play").attr({"aria-live":"assertive"}).click(function(){a(this).hasClass("play")?(a(this).removeClass("play").addClass("pause").attr({title:"Pause",id:"pause-"+b.config.id}).text("Pause"),b.play()):(a(this).removeClass("pause").addClass("play").attr({title:"Play",id:"play-"+b.config.id}).text("Play"),b.pause())});d.push(e)}else{var f=b.createButton("play","Play").click(function(){b.play()}),g=b.createButton("pause","Pause").click(function(){b.pause()});d.push(f),d.push(g)}if(b.config.buttons.rewind){var h=b.createButton("rewind","Rewind").click(function(){b.rewd()});d.push(h)}if(b.config.buttons.forward){var i=b.createButton("forward","Forward").click(function(){b.ffwd()});d.push(i)}if(b.config.captions){var j=b.createButton("captions","Captions").click(function(){b.toggleCaptions()}),k=1==b.config.captionsOn?"captions-on":"captions-off";j.addClass(k),d.push(j)}var l;for(l=0;l<d.length;l+=1)c[0].appendChild(d[l][0]);return c},getVolControls:function(){var b,c=this,d=a("<div>").addClass("volume-controls"),e=c.createButton("mute","Mute").click(function(){c.mute()}),f=c.createButton("vol-up",'+<span class="ui-helper-hidden-accessible"> Volume Up</span>').click(function(){c.volup()}),g=c.createButton("vol-down",'-<span class="ui-helper-hidden-accessible"> Volume Down</span>').click(function(){c.voldwn()}),h=a("<span />").attr({id:"vol-"+c.config.id,"class":"vol-display"}).text("100%"),i=[e,g,f,h];for(b=0;b<i.length;b+=1)d[0].appendChild(i[b][0]);return d},getSliderBar:function(){var b,c=a("<span />").addClass("ui-helper-hidden-accessible").html("<p>The timeline slider below uses WAI ARIA. Please use the documentation for your screen reader to find out more.</p>"),d=a("<span />").addClass("current-time").attr({id:"current-"+this.config.id}).text("00:00:00"),e=this.getSlider(),f=a("<span />").addClass("duration-time").attr({id:"duration-"+this.config.id}).text("00:00:00"),g=a("<div />").addClass("timer-bar").append(c),h=[d,e,f];for(b=0;b<h.length;b+=1)g[0].appendChild(h[b][0]);return g},getSlider:function(){var b=this,c=a("<span />").attr("id","slider-"+this.config.id).slider({orientation:"horizontal",change:function(a,c){var d=c.value,e=d/100*b.getDuration();b.seek(e)}});c.find("a.ui-slider-handle").attr({role:"slider","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"0","aria-valuetext":"0 percent",title:"Slider Control"});var d=a("<span />").addClass("progress-bar").attr({id:"progress-bar-"+this.config.id,tabindex:"-1"}).addClass("ui-progressbar-value ui-widget-header ui-corner-left").css({width:"0%",height:"95%"}),e=a("<span />").attr({id:"loaded-bar-"+this.config.id,tabindex:"-1"}).addClass("loaded-bar ui-progressbar-value ui-widget-header ui-corner-left").css({height:"95%",width:"0%"});return c.append(d,e)},setSliderTimeout:function(){var a=this;void 0==a.sliderInterval&&(a.sliderInterval=setInterval(function(){a.updateSlider()},a.config.sliderTimeout))},clearSliderTimeout:function(){var a=this;void 0!=a.sliderInterval&&(a.sliderInterval=clearInterval(a.sliderInterval))},updateSlider:function(){var b="undefined"!=typeof this.duration?this.duration:this.getDuration(),c="boolean"==typeof this.duration_found?this.duration_found:!1,d=this.getCurrentTime(),e=0;b>0?(e=d/b*100,e=parseInt(e,10)):b=0,c||(a("#duration-"+this.config.id).html(this.formatTime(parseInt(b,10))),this.duration_found=!0),a("#slider-"+this.config.id).find("a.ui-slider-handle").attr({"aria-valuenow":e,"aria-valuetext":e.toString()+" percent"}).css("left",e.toString()+"%"),a("#progress-bar-"+this.config.id).attr({"aria-valuenow":e,"aria-valuetext":e.toString()+" percent"}).css("width",e.toString()+"%"),this.updateLoaderBar(),this.updateTime(d)},updateLoaderBar:function(){var b=this.getBytesLoaded()/this.getBytesTotal()*100;b=parseInt(b,10),isFinite(b)||(b=0),a("#loaded-bar-"+this.config.id).attr({"aria-valuetext":b.toString()+" percent","aria-valuenow":b}).css("width",b.toString()+"%")},formatTime:function(a){var b=0,c=0,d=0;a>=60?(c=parseInt(a/60,10),d=a-60*c,c>=60&&(b=parseInt(c/60,10),c-=parseInt(60*b,10))):d=a;var e,f=[b,c,d];for(e=0;e<f.length;e+=1)f[e]=f[e]<10?"0"+f[e].toString():f[e].toString();return f.join(":")},updateTime:function(a){var b=this.formatTime(parseInt(a,10));this.$html.find("#current-"+this.config.id).html(b)},getControls:function(){var b=a("<span />").addClass("ui-corner-bottom").addClass("control-bar"),c=a("<a />").attr("href","http://www.nomensa.com?ref=logo").html("Accessible Media Player by Nomensa").addClass("logo");b.append(c);var d,e=this.getFuncControls(),f=this.getVolControls(),g=this.getSliderBar(),h=[e,f,g];for(d=0;d<h.length;d+=1)b[0].appendChild(h[d][0]);return b},assembleHTML:function(){var a=this.generatePlayerContainer(),b=this.generateFlashPlayer(a),c=b.append(this.getControls());return c},assembleHTML5:function(a,b){var c=this.generatePlayerContainer(),d=this.generateHTML5Player(c,a,b),e=d.append(this.getControls());return e},updateVolume:function(b){a("#vol-"+this.config.id).text(b.toString()+"%");var c=this.$html.find("button.mute");0==b?c.addClass("muted"):c.hasClass("muted")&&c.removeClass("muted")},getCaptions:function(){var b=this;if(b.config.captions){a.ajax({url:b.config.captions,success:function(c){a(c).find("p").length>0&&(b.captions=a(c).find("p"))}})}},syncCaptions:function(){var a;if(this.captions){var b=this.getCurrentTime();b=this.formatTime(parseInt(b,10)),a=this.captions.filter('[begin="'+b+'"]'),1==a.length&&this.insertCaption(a)}},insertCaption:function(b){if(1==this.$html.find(".caption").length)this.$html.find(".caption").text(b.text());else{var c=a("<div>").text(b.text());c[0].className="caption",this.$html.find(".video").prepend(c)}},getPreviousCaption:function(a){var b;void 0==a&&(a=this.getCurrentTime());var c=this.formatTime(parseInt(a,10));if(this.captions){for(b=this.captions.filter('[begin="'+c+'"]');1!=b.length&&a>0;)a--,c=this.formatTime(parseInt(a,10)),b=this.captions.filter('[begin="'+c+'"]');1==b.length&&this.insertCaption(b)}},destroyPlayerInstance:function(){return!1},destroy:function(){this.clearSliderTimeout(),this.clearCaptionTimeout(),this.destroyPlayerInstance(),this.$html.remove()},setCaptionTimeout:function(){var a=this;void 0==a.captionInterval&&(a.captionInterval=setInterval(function(){a.syncCaptions()},500))},clearCaptionTimeout:function(){void 0!=this.captionInterval&&(this.captionInterval=clearInterval(this.captionInterval))},play:function(){this.player.playVideo(),this.setSliderTimeout(),this.config.captionsOn&&this.captions&&this.setCaptionTimeout()},pause:function(){this.player.pauseVideo(),this.clearSliderTimeout(),this.config.captionsOn&&this.captions&&this.clearCaptionTimeout()},ffwd:function(){var a=this.getCurrentTime()+this.config.playerSkip;this.seek(a)},rewd:function(){var a=this.getCurrentTime()-this.config.playerSkip;0>a&&(a=0),this.seek(a)},mute:function(){var a=this.$html.find("button.mute");this.player.isMuted()?(this.player.unMute(),a.hasClass("muted")&&a.removeClass("muted")):(this.player.mute(),a.addClass("muted"))},volup:function(){var a=this.player.getVolume();a<100-this.config.volumeStep?a+=this.config.volumeStep:a=100,this.player.setVolume(a),this.updateVolume(a)},voldwn:function(){var a=this.player.getVolume();a>this.config.volumeStep?a-=this.config.volumeStep:a=0,this.player.setVolume(a),this.updateVolume(a)},getDuration:function(){return this.player.getDuration()},getCurrentTime:function(){return this.player.getCurrentTime()},getBytesLoaded:function(){return this.player.getVideoBytesLoaded()},getBytesTotal:function(){return this.player.getVideoBytesTotal()},seek:function(a){this.player.seekTo(a),this.config.captionsOn&&this.captions&&(this.$html.find(".caption").remove(),this.clearCaptionTimeout(),this.setCaptionTimeout(),this.getPreviousCaption())},cue:function(){this.player.cueVideoById(this.config.media)},toggleCaptions:function(){var a=this,b=this.$html.find(".captions");b.hasClass("captions-off")?(b.removeClass("captions-off").addClass("captions-on"),a.getPreviousCaption(),a.setCaptionTimeout(),a.config.captionsOn=!0):(b.removeClass("captions-on").addClass("captions-off"),a.clearCaptionTimeout(),a.$html.find(".caption").remove(),a.config.captionsOn=!1)}};return this.each(function(b){var c,e,g=a(this),h=function(a){a.$html.width()>580&&a.$html.addClass("player-wide"),a.is_html5&&(a.player=document.getElementById(a.config.id))};f.url.match(/^(http|https)\:\/\/www\.youtube\.com/)?(c=new window.NOMENSA.player.YoutubePlayer(f),e=new window.NOMENSA.player.MediaplayerDecorator(c),e.onPlayerReady(function(){h(e),this.getPlayer().setLoop(!0)}),e.init(g)):(e=new d(b),g.html(e.$html),h(e),window.NOMENSA.player.PlayerDaemon.addPlayer(e))})}}(jQuery);var JSON;JSON||(JSON={}),function(){"use strict";function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();